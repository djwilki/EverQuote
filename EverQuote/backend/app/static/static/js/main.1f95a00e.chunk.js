(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,n){e.exports={notebooks_container:"notebook_notebooks_container__3XDiR",notebooks_title_bar:"notebook_notebooks_title_bar__2g6Z6",newNotebook:"notebook_newNotebook__1UUKA",sortOptions:"notebook_sortOptions__7Da-b"}},20:function(e,t,n){e.exports={sidebar_nav:"navbar_sidebar_nav__3crPa",usernameDropDown:"navbar_usernameDropDown__bWK-n",newNoteBtn:"navbar_newNoteBtn__3Xzkx",extra_navlinks:"navbar_extra_navlinks__Z2FyT"}},29:function(e,t,n){},31:function(e,t,n){},35:function(e,t,n){e.exports=n(47)},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return fe}));var a=n(0),r=n.n(a),o=n(21),c=n.n(o),s=(n(29),n(1)),l=n.n(s),u=n(3),i=n(7),p=n(6),d=n(5);var m=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var f=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=o.map((function(e){return r.a.createElement(m,{key:e.id,user:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),s)},b=n(2),E=n(15),h=n(8),v=n.n(h),O=function(e,t,n){var a=v.a.get("XSRF-TOKEN");return function(){var r=Object(u.a)(l.a.mark((function r(o){var c,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/users/",{method:"post",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({username:e,password:n,email:t,csrf_token:a})});case 2:return c=r.sent,r.next=5,c.json();case 5:if(s=r.sent,c.data=s,!c.ok){r.next=12;break}return o({type:"signup/CREATE_USER",user:s}),r.abrupt("return",c);case 12:return console.error("Bad response"),r.abrupt("return",c);case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"users/SET_USER",user:a.data}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var x=function(e){return{type:"session/SET_SELECTED_NOTEBOOK",notebookId:e}},k=function(e){return{type:"session/SET_ACTIVE_NOTE",noteId:e}},y=function(e,t){var n=v.a.get("XSRF-TOKEN");return function(){var a=Object(u.a)(l.a.mark((function a(r){var o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({email_or_username:e,password:t,csrf_token:n})});case 2:return o=a.sent,a.next=5,o.json();case 5:return o.data=a.sent,o.ok&&r({type:"session/SET_USER",user:o.data.user}),a.abrupt("return",o);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},N=function(){var e=v.a.get("XSRF-TOKEN");return function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"DELETE",headers:{"X-CSRFTOKEN":e}});case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"session/LOGOUT_USER"}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_={user_id:null,selectedNotebookId:null,defaultNotebookId:null,noteList:null,activeNote:null};n(31),n(45);var j=n(13),w=function(e){return{type:"notebooks/EDIT_NOTEBOOK",notebook:e}},T=function(e){var t=v.a.get("XSRF-TOKEN"),n="/api/notebooks/".concat(e,"/update");return function(){var a=Object(u.a)(l.a.mark((function a(r){var o,c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"put",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t},body:JSON.stringify({id:e})});case 2:return o=a.sent,a.next=5,o.json();case 5:return c=a.sent,o.data=c,o.ok&&r(w(o.data)),a.abrupt("return",o);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},S=function(e){var t="/api/users/".concat(e,"/notebooks");return function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return a.data=e.sent,console.log("reducer",a),a.ok&&(n({type:"notebooks/SET_NOTEBOOKS",notebooks:a.data}),Object.values(a.data).forEach((function(e){e.isDefault&&(n({type:"notebooks/SET_DEFAULT_NOTEBOOK",defaultNotebookId:e.id}),n(x(e.id)))}))),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e,t,n){var a=v.a.get("XSRF-TOKEN");return function(){var r=Object(u.a)(l.a.mark((function r(o){var c,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/notebooks/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({title:e,isDefault:t,userId:n,csrf_token:a})});case 2:return c=r.sent,r.next=5,c.json();case 5:return s=r.sent,c.data=s,c.ok&&o({type:"notebooks/ADD_NOTEBOOK",notebook:c.data}),r.abrupt("return",c);case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};window.addUserNotebooks=C;var D=function(e,t,n,a){var r=v.a.get("XSRF-TOKEN"),o="/api/notebooks/".concat(a);return function(){var a=Object(u.a)(l.a.mark((function a(c){var s,u;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(o,{method:"put",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({title:e,isDefault:t,userId:n,csrf_token:r})});case 2:return s=a.sent,a.next=5,s.json();case 5:return u=a.sent,s.data=u,s.ok&&c(w(s.data)),a.abrupt("return",s);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var R=Object(p.g)((function(e){var t=e.history,n=Object(a.useState)(""),o=Object(d.a)(n,2),c=o[0],s=o[1],p=Object(a.useState)(""),m=Object(d.a)(p,2),f=m[0],E=m[1],h=Object(a.useState)(""),v=Object(d.a)(h,2),g=v[0],x=v[1],k=Object(a.useState)([]),N=Object(d.a)(k,2),_=N[0],j=N[1],w=Object(b.c)();Object(a.useEffect)((function(){j([])}),[c,f,g]);var T=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,w(O(f,c,g));case 3:if(a=e.sent,console.log("signup res",a),!a.ok){e.next=10;break}return e.next=8,w(y(f,g));case 8:return t.replace("/"),e.abrupt("return");case 10:j(a.data.errors);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,w(y("demo@demo.com","password"));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:j(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-wrapper centered"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{alt:"logo",src:"https://i.imgur.com/GOpcw1D.png",style:{width:"30%"}}),r.a.createElement("h1",{className:"header-title"},"EverQuote"),r.a.createElement("div",{className:"header-tagline"},"Remember everything important.")),r.a.createElement("button",{onClick:S,className:"demo_button"},"Continue as Demo User"),r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider-text"},"or"),r.a.createElement("div",{className:"divider-line"})),r.a.createElement("div",{className:"login_form_container"},r.a.createElement("form",{onSubmit:T},r.a.createElement("input",{name:"username",type:"text",value:f,onChange:function(e){return E(e.target.value)},className:"auth_input",placeholder:"Username"}),r.a.createElement("input",{name:"email",type:"email",value:c,onChange:function(e){return s(e.target.value)},className:"auth_input",placeholder:"Email"}),r.a.createElement("input",{name:"password",type:"password",value:g,onChange:function(e){return x(e.target.value)},className:"auth_input",placeholder:"Password"}),r.a.createElement("div",{className:"login_form_error_container"},_.length?r.a.createElement("ul",{className:"auth_error_list"},_.map((function(e,t){return r.a.createElement("li",{className:"error_message",key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{type:"submit",className:"auth_button"},"Continue"))),r.a.createElement("div",{className:"form-footer"},r.a.createElement("div",{className:"footer-tagline"},"Already have an account?"),r.a.createElement("div",{className:"footer-cta-wrapper"},r.a.createElement(i.b,{className:"footer-cta",to:"/login"},"Sign in")))))})),I=Object(p.g)((function(e){var t=e.history,n=Object(a.useState)(""),o=Object(d.a)(n,2),c=o[0],s=o[1],p=Object(a.useState)(""),m=Object(d.a)(p,2),f=m[0],E=m[1],h=Object(a.useState)([]),v=Object(d.a)(h,2),O=v[0],g=v[1],x=Object(b.c)();Object(a.useEffect)((function(){g([])}),[c,f]);var k=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x(y(c,f));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:g(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x(y("demo","password"));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:g(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-wrapper centered"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{alt:"logo",src:"https://i.imgur.com/GOpcw1D.png",style:{width:"30%"}}),r.a.createElement("h1",{className:"header-title"},"EverQuote"),r.a.createElement("div",{className:"header-tagline"},"Remember everything important.")),r.a.createElement("button",{onClick:N,className:"demo_button"},"Continue as Demo User"),r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider-text"},"or"),r.a.createElement("div",{className:"divider-line"})),r.a.createElement("div",{className:"login_form_container"},r.a.createElement("form",{method:"",action:"",onSubmit:k},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Email or Username",type:"text",name:"email_or_username",value:c,className:"auth_input",onChange:function(e){s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Password",type:"password",name:"password",value:f,className:"auth_input",onChange:function(e){E(e.target.value)}})),r.a.createElement("div",{className:"login_form_error_container"},O.length?r.a.createElement("ul",{className:"auth_error_list"},O.map((function(e,t){return r.a.createElement("li",{className:"error_message",key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{type:"submit",className:"auth_button"},"Continue"))),r.a.createElement("div",{className:"form-footer"},r.a.createElement("div",{className:"footer-tagline"},"Don't have an account?"),r.a.createElement("div",{className:"footer-cta-wrapper"},r.a.createElement(i.b,{className:"footer-cta",to:"/signup"},"Create account")))))})),L=Object(b.b)((function(e,t){var n=e.session.user_id;return Object(j.a)({user_id:n},t)}))((function(e){var t=e.user_id,n=e.path,a=e.component;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{path:n,component:a}),"/"===n?r.a.createElement(p.a,{to:"/notes"}):r.a.createElement(r.a.Fragment,null)):r.a.createElement(p.a,{to:"/login"})})),M=n(14),F=n.n(M),U={userModal:!1,noteOptions:!1,notebookOptions:!1,moveNotes:!1,editNotebook:!1,createNotebook:!1};var A=function(e){var t=e.CreateNotebookModal,n=Object(a.useState)(""),o=Object(d.a)(n,2),c=o[0],s=o[1],i=Object(b.c)(),p=Object(b.d)((function(e){return e.session.user_id})),m=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.next=3,i(C(c,!1,p));case 3:if(!e.sent.ok){e.next=7;break}return t(n),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(133, 133, 133, 0.5)",zIndex:"9"}},r.a.createElement("div",{style:{backgroundColor:"white",opacity:"100%",zIndex:"10",width:"478px",height:"263px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.16)",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"20px 25px 18px"}},r.a.createElement("span",{style:{fontSize:"18px",fontWeight:"500",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"}},"Create new notebook"),r.a.createElement("button",{style:{outline:"none"},type:"button",onClick:t},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"vQzJB1pohgMjFOPTzHGKk",id:"qa-DIALOG_CLOSE"},r.a.createElement("path",{d:"M17.53 6.47a.75.75 0 00-1.06 0L12 10.94 7.53 6.47a.75.75 0 00-1.06 1.06L10.94 12l-4.47 4.47a.75.75 0 101.06 1.06L12 13.06l4.47 4.47a.75.75 0 101.06-1.06L13.06 12l4.47-4.47a.75.75 0 000-1.06z",fill:"currentColor"})))),r.a.createElement("div",{style:{fontSize:"12px",fontWeight:"400",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif",padding:"0px 25px 0px"}},"Notebooks are useful for grouping notes around a common topic. They can be private or shared."),r.a.createElement("form",{action:"",method:"",style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 25px 0"}},r.a.createElement("div",{style:{marginBottom:"5px"}},"Name"),r.a.createElement("input",{style:{outline:"none",borderRadius:"5px",border:"1px solid #E6E6E6",padding:"0 10px 0",width:"406px",height:"38px",marginLeft:"auto",marginRight:"auto"},name:"title",type:"text",placeholder:"Notebook name",onChange:function(e){return s(e.target.value)}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"65px"}},r.a.createElement("button",{style:{boxBorder:"1px solid black",borderRadius:"5px",padding:"10px 15x 10px",outline:"none"},type:"button",onClick:t},"Cancel"),r.a.createElement("button",{style:{outline:"none"},type:"button",onClick:m},"Continue")))))},z=function(e){var t=e.editNotebookId,n=Object(a.useState)(""),o=Object(d.a)(n,2),c=o[0],s=o[1],i=Object(b.c)(),p=Object(b.d)((function(e){return e.session.user_id})),m=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),a=t,e.next=4,i(D(c,!1,p,a));case 4:if(!e.sent.ok){e.next=8;break}return f(n),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){e.preventDefault(),i({type:"ui/TOGGLE_EDIT_NOTEBOOK_MODAL"})};return r.a.createElement("div",{className:"edit-notebook-modal-container",style:{position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(133, 133, 133, 0.5)",zIndex:"9"}},r.a.createElement("div",{style:{backgroundColor:"white",opacity:"100%",zIndex:"10",width:"478px",height:"263px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.16)",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"20px 25px 18px"}},r.a.createElement("span",{style:{fontSize:"18px",fontWeight:"500",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"}},"Rename notebook"),r.a.createElement("button",{style:{outline:"none"},type:"button",onClick:function(e){f(e)}},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"vQzJB1pohgMjFOPTzHGKk",id:"qa-DIALOG_CLOSE"},r.a.createElement("path",{d:"M17.53 6.47a.75.75 0 00-1.06 0L12 10.94 7.53 6.47a.75.75 0 00-1.06 1.06L10.94 12l-4.47 4.47a.75.75 0 101.06 1.06L12 13.06l4.47 4.47a.75.75 0 101.06-1.06L13.06 12l4.47-4.47a.75.75 0 000-1.06z",fill:"currentColor"})))),r.a.createElement("form",{action:"",method:"",style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 25px 0"}},r.a.createElement("div",{style:{marginBottom:"5px"}},"Name"),r.a.createElement("input",{style:{outline:"none",borderRadius:"5px",border:"1px solid #E6E6E6",padding:"0 10px 0",width:"406px",height:"38px",marginLeft:"auto",marginRight:"auto"},name:"title",type:"text",placeholder:"Notebook name",onChange:function(e){return s(e.target.value)}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"95px"}},r.a.createElement("button",{style:{boxBorder:"1px solid black",borderRadius:"5px",padding:"10px 15x 10px",outline:"none"},type:"button",onClick:function(e){f(e)}},"Cancel"),r.a.createElement("button",{style:{outline:"none"},type:"button",onClick:m},"Continue")))))},G=function(e){e.MoreActionsNotebookModal,e.EditNotebookModal;var t=Object(a.useState)(""),n=Object(d.a)(t,2);n[0],n[1],Object(b.c)(),Object(b.d)((function(e){return e.session.user_id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"relative",zIndex:"8",backgroundColor:"white",left:"-100px"}},r.a.createElement("button",{onClick:function(e){}},"Rename notebook")))},K=function(e){var t=e.note,n=e.username;return r.a.createElement("tr",null,r.a.createElement("td",{style:{padding:"0px 0px 0px 64px"}},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.665 4.5h8.75c.92 0 1.667.746 1.667 1.667v8.748h-3.334a.625.625 0 00-.625.624v3.958H7.665c-.92 0-1.667-.747-1.667-1.667V6.167c0-.92.747-1.667 1.667-1.667zm7.037 4.584a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h5.404zm.625 2.918c0 .345-.28.625-.625.625H9.298a.625.625 0 010-1.25h5.404c.345 0 .625.28.625.625zm-4.363 4.158a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h1.666z",fill:"currentColor"}),r.a.createElement("path",{d:"M15.373 16.164h2.157l-2.107 2.693-.05.06v-2.753z",fill:"currentColor"})),t.title),r.a.createElement("td",null,n),r.a.createElement("td",null,t.updated_at),r.a.createElement("td",null,"..."))},B=function(e){var t=e.notebook,n=e.username,a=e.setEditNotebookId,o=Object(b.d)((function(e){return Object.values(e.entities.notes).filter((function(e){return e.notebookId===t.id}))})),c=Object(b.d)((function(e){return e.ui.notebookOptions})),s=Object(b.c)(),l=function(e){e.preventDefault(),a(t.id),s({type:"ui/TOGGLE_EDIT_NOTEBOOK_MODAL"})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"notebook-".concat(t.id)},r.a.createElement("td",null,r.a.createElement("button",null,r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 7l6 5-6 5V7z",fill:"currentColor"}))),r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.035 4.5H5.958v15h2.077v-15z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.285 4.5v15h7.09c.92 0 1.667-.746 1.667-1.667V6.167c0-.92-.747-1.667-1.667-1.667h-7.09zm6.63 5.083a.75.75 0 01-.75.75h-3a.75.75 0 110-1.5h3a.75.75 0 01.75.75z",fill:"currentColor"})),t.title),r.a.createElement("td",null,n),r.a.createElement("td",null,t.updated_at),r.a.createElement("td",null,r.a.createElement("button",{onClick:l},"..."),r.a.createElement("div",null),c?r.a.createElement(G,{togEditNotebookModal:l,notebookId:t.id}):"")),o.map((function(e,a){return r.a.createElement(K,{key:"notebook-".concat(t.id,"-note-").concat(a+1),note:e,username:n})})))};var H=function(e){var t=Object(b.c)(),n=Object(b.d)((function(e){return e.session.user_id})),o=Object(b.d)((function(e){return Object.values(e.entities.notebooks)})),c=Object(b.d)((function(e){return Object.values(e.entities.notes)})),s=Object(b.d)((function(e){return e.entities.users[n].username})),l=Object(b.d)((function(e){return e.ui.createNotebook})),u=Object(b.d)((function(e){return e.ui.editNotebook})),i=Object(a.useState)(null),p=Object(d.a)(i,2),m=p[0],f=p[1];console.log(m);var E=Object(a.useState)(""),h=Object(d.a)(E,2),v=h[0],O=(h[1],Object(a.useState)([])),g=Object(d.a)(O,2),x=(g[0],g[1]);Object.values(o).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",null,r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 7l6 5-6 5V7z",fill:"currentColor"}))),r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.035 4.5H5.958v15h2.077v-15z",fill:"currentColor"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.285 4.5v15h7.09c.92 0 1.667-.746 1.667-1.667V6.167c0-.92-.747-1.667-1.667-1.667h-7.09zm6.63 5.083a.75.75 0 01-.75.75h-3a.75.75 0 110-1.5h3a.75.75 0 01.75.75z",fill:"currentColor"})),e.title),r.a.createElement("td",null,"You"),r.a.createElement("td",null,e.updated_at),r.a.createElement("td",null,"...")),(t=e.id,Object.values(c).map((function(e){if(t===e.notebookId&&!e.isTrash)return r.a.createElement("tr",null,r.a.createElement("td",{style:{padding:"0px 0px 0px 64px"}},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.665 4.5h8.75c.92 0 1.667.746 1.667 1.667v8.748h-3.334a.625.625 0 00-.625.624v3.958H7.665c-.92 0-1.667-.747-1.667-1.667V6.167c0-.92.747-1.667 1.667-1.667zm7.037 4.584a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h5.404zm.625 2.918c0 .345-.28.625-.625.625H9.298a.625.625 0 010-1.25h5.404c.345 0 .625.28.625.625zm-4.363 4.158a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h1.666z",fill:"currentColor"}),r.a.createElement("path",{d:"M15.373 16.164h2.157l-2.107 2.693-.05.06v-2.753z",fill:"currentColor"})),"                            ",e.title),r.a.createElement("td",null,"You"),r.a.createElement("td",null,e.updated_at),r.a.createElement("td",null,"..."))}))));var t})),Object(a.useEffect)((function(){x([])}),[v]);var k=function(e){e.preventDefault(),t({type:"ui/TOGGLE_CREATE_NOTEBOOK_MODAL"})};return r.a.createElement("main",{className:F.a.notebooks_container},l?r.a.createElement(A,{CreateNotebookModal:k}):"",u?r.a.createElement(z,{editNotebookId:m}):"",r.a.createElement("h1",null,"Notebooks"),r.a.createElement("div",{className:F.a.notebooks_title_bar},r.a.createElement("div",{className:F.a.notebooks_title},r.a.createElement("h2",null,"My notebook list")),r.a.createElement("div",{className:F.a.buttons},r.a.createElement("button",{className:F.a.newNotebook,onClick:k},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"_3rHKgsdA1qX-_9ks50GGiT"},r.a.createElement("path",{d:"M5.955 4.5H8.03v15H5.955v-15z",fill:"currentColor"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.281 19.5v-15h7.09c.921 0 1.667.746 1.667 1.666v7.294h-.025a4.583 4.583 0 00-4.346 6.04H9.28zm5.88-9.167a.75.75 0 000-1.5h-3a.75.75 0 000 1.5h3z",fill:"currentColor"}),r.a.createElement("path",{d:"M18.638 15.549a.625.625 0 10-1.25 0v1.904h-1.846a.625.625 0 100 1.25h1.846v1.846a.625.625 0 001.25 0v-1.846h1.904a.625.625 0 100-1.25h-1.904v-1.904z",fill:"currentColor"})),"New Notebook"),r.a.createElement("button",{className:F.a.sortOptions},r.a.createElement("svg",{style:{width:"24px",height:"24px"},xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.183 4.625a.625.625 0 00-1.25 0V17.87L5.067 16a.625.625 0 00-.884 0 .62.62 0 000 .88l2.933 2.94c.244.244.64.244.884 0l2.933-2.94a.62.62 0 000-.88.625.625 0 00-.884 0l-1.866 1.87V4.625zM11.625 5a.625.625 0 100 1.25h8.75a.625.625 0 100-1.25h-8.75zM11 9.375c0-.345.28-.625.625-.625h6.25a.625.625 0 110 1.25h-6.25A.625.625 0 0111 9.375zM11.625 12.5a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75z",fill:"currentColor"}))))),r.a.createElement("table",{className:F.a.notebooks_table},r.a.createElement("tbody",null,r.a.createElement("tr",{className:F.a.notebooks_table_headers},r.a.createElement("th",null,"TITLE"),r.a.createElement("th",null,"CREATED BY"),r.a.createElement("th",null,"UPDATED"),r.a.createElement("th",null,"ACTIONS")),o.map((function(e,t){return r.a.createElement(B,{notebook:e,setEditNotebookId:f,username:s,key:"notebook-".concat(t+1)})})))))},P=function(e){var t=e.note,n=Object(b.c)();return r.a.createElement("div",{onClick:function(e){n(k(t.id))}},r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t.title),r.a.createElement("span",null,t.content.length>60?t.content.slice(0,60)+"...":t.content?t.content:"")))},X=Object(b.b)((function(e,t){var n;return(n=e.session.noteList?Object.values(e.entities.notes).filter((function(t){return t.notebookId===e.session.selectedNotebookId})):Object.values(e.entities.notes).filter((function(e){return!e.isTrash}))).sort((function(e,t){var n=new Date(e.updated_at);return new Date(t.updated_at).getTime()-n.getTime()})),{noteList:e.session.noteList,notes:n}}))((function(e){var t=e.noteList,n=e.notes;return r.a.createElement("div",{style:{width:"380px",height:"100vh",backgroundColor:"#F8F8F8"}},r.a.createElement("div",null,t?r.a.createElement("h1",null,t):r.a.createElement("h1",{style:{color:"black"}},"All Notes"),r.a.createElement("h3",null,n.length," Notes")),n.map((function(e,t){return r.a.createElement(P,{key:"note-".concat(t+1),note:e})})))})),J=function(e){var t="/api/users/".concat(e,"/notes");return function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return a.data=e.sent,console.log(a),a.ok&&Object.keys(a.data).length&&(n({type:"/notes/SET_NOTES",notes:a.data}),n(k(Object.values(a.data)[0].id))),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};window.setUserNotes=J;var V=function(e,t){var n=v.a.get("XSRF-TOKEN");return function(){var a=Object(u.a)(l.a.mark((function a(r){var o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({userId:e,notebookId:t})});case 2:return o=a.sent,a.next=5,o.json();case 5:if(o.data=a.sent,!o.ok){a.next=11;break}return r({type:"/notes/ADD_NOTE",note:o.data}),a.next=10,r(T(t));case 10:r(k(o.data.id));case 11:return a.abrupt("return",o);case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Q=function(e,t,n){var a=v.a.get("XSRF-TOKEN");return function(){var r=Object(u.a)(l.a.mark((function r(o){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/notes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({noteId:e,title:t,content:n})});case 2:return c=r.sent,r.next=5,c.json();case 5:if(c.data=r.sent,!c.ok){r.next=10;break}return o({type:"/notes/UPDATE_NOTE",note:c.data}),r.next=10,o(T(c.data.notebookId));case 10:return r.abrupt("return",c);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};var W=function(e){var t=e.activeNoteObj,n=Object(b.c)(),o=Object(a.useState)(""),c=Object(d.a)(o,2),s=c[0],i=c[1],p=Object(a.useState)(""),m=Object(d.a)(p,2),f=m[0],E=m[1],h=Object(a.useState)(!1),v=Object(d.a)(h,2),O=v[0],g=v[1],x=Object(a.useRef)(null);Object(a.useEffect)((function(){i(t.title),E(t.content)}),[t]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}},r.a.createElement("div",{style:{minHeight:"92px",backgroundColor:"white",border:"1px solid #F2F2F2"}},"Toolbar Placeholder"),r.a.createElement("div",{onClick:function(){n({type:"ui/TOGGLE_NOTE_OPTIONS_MODAL"})}},"..."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{display:"flex",flexDirection:"column",width:"100%",height:"799px",border:"1px solid #F2F2F2"},onKeyUp:function(e){g(!0),e.stopPropagation(),x.current&&clearTimeout(x.current),x.current=setTimeout(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.id,s,f),e.next=3,n(Q(t.id,s,f));case 3:g(!1);case 4:case"end":return e.stop()}}),e)}))),250)}},r.a.createElement("input",{type:"text",style:{height:"8%",border:"none"},value:s,onChange:function(e){i(e.target.value)}}),r.a.createElement("textarea",{rows:"8",style:{height:"92%",border:"none"},value:f,onChange:function(e){E(e.target.value)},resize:"none"})),r.a.createElement("div",{style:{backgroundColor:"white",height:"100%"}},r.a.createElement("span",null,O?"Processing and saving changes...":"Note saved")))};W.defaultProps={activeNoteObj:{title:"",content:""}};var Y=Object(b.b)((function(e,t){return{activeNoteObj:e.entities.notes[e.session.activeNote]}}))(W);var q=function(e){return r.a.createElement("section",{style:{display:"flex"}},r.a.createElement(X,null),r.a.createElement(Y,null))};var Z=Object(p.g)((function(e){var t=e.match;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(p.b,{path:t.url+"notes",component:q}),r.a.createElement(p.b,{path:t.url+"notebooks",component:H}))})),$=Object(b.b)((function(e,t){return{userId:e.session.user_id,selectedNotebookId:e.session.selectedNotebookId}}))((function(e){var t=e.userId,n=e.selectedNotebookId,a=Object(b.c)(),o=function(){var e=Object(u.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),e.next=3,a(V(t,n));case 3:if(!e.sent.ok){e.next=6;break}return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("button",{type:"button",className:"newNoteBtn",onClick:o},"New Note")})),ee=n(20),te=n.n(ee),ne=Object(p.g)((function(e){var t=e.history,n=Object(b.c)(),a=function(){var e=Object(u.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(N());case 3:return r=e.sent,e.next=6,n({type:"ui/TOGGLE_USER_MODAL"});case 6:return r.ok&&t.replace("/login"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:a},"Logout"))))}));var ae=Object(p.g)((function(e){var t=e.history,n=Object(b.c)(),a=Object(b.d)((function(e){return e.entities.notebooks})),o=Object(b.d)((function(e){return e.ui.userModal})),c=Object(b.d)((function(e){return e.entities.users})),s=function(e){e.preventDefault(),console.log(e.target.value),n(x(Number(e.target.value))),t.replace("/notes")},l=Object.values(c).map((function(e){return e.username})),u=Object.values(a).map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("button",{value:e.id,onClick:s},e.title))}));return r.a.createElement("nav",{className:te.a.sidebar_nav},r.a.createElement("button",{className:te.a.usernameDropDown,onClick:function(e){n({type:"ui/TOGGLE_USER_MODAL"})},id:"toggleUserModal"},l," \u25bc"),o?r.a.createElement(ne,null):r.a.createElement(r.a.Fragment,null),r.a.createElement($,null),r.a.createElement("ul",{className:te.a.navlinks},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/notes",activeclass:"active"},"All Notes")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/notebooks",activeclass:"active"},"Notebooks")),u),r.a.createElement("ul",{className:te.a.extra_navlinks},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/users",activeclass:"active"},"Users")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup",activeclass:"active"},"Sign up"))))})),re=n(34),oe=function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e,"/trash"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,console.log(a),a.ok&&n({type:"trash/SET_TRASH",trash:a.data.trash}),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var ce=Object(b.b)((function(e,t){return{userId:e.session.user_id,selectedNotebookId:e.session.selectedNotebookId,notebooks:e.entities.notebooks,defaultNotebookId:e.session.defaultNotebookId}}))((function(e){var t=e.userId,n=e.selectedNotebookId,o=(e.notes,e.notebooks,e.defaultNotebookId),c=Object(b.c)();return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(J(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(oe(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),a(),function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(S(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),c(x(n||1)),function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(g(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),c(x(n||o))}),[c,t,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",height:"100vh"}},r.a.createElement(ae,null),r.a.createElement(Z,null)))}));var se,le=function(){return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(i.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/users"},r.a.createElement(f,null)),r.a.createElement(p.b,{exact:!0,path:"/login"},r.a.createElement(I,null)),r.a.createElement(p.b,{exact:!0,path:"/signup"},r.a.createElement(R,null)),r.a.createElement(L,{path:"/",component:ce})))},ue=n(16),ie=n(33),pe=Object(ue.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signup/CREATE_USER":return t.user;case"session/LOGOUT_USER":return{};case"users/SET_USER":return Object(E.a)({},t.user.id,t.user);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"/notes/ADD_NOTE":var a=t.note.id;return Object(j.a)(Object(E.a)({},a,t.note),e);case"/notes/SET_NOTES":return Object(j.a)(Object(j.a)({},t.notes),e);case"/notes/UPDATE_NOTE":return n[t.note.id]=t.note,n;case"session/LOGOUT_USER":return{};default:return e}},notebooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"notebooks/SET_NOTEBOOKS":return t.notebooks;case"notebooks/ADD_NOTEBOOK":return Object(j.a)(Object(j.a)({},e),{},Object(E.a)({},t.notebook.id,t.notebook));case"notebooks/EDIT_NOTEBOOK":return n[t.notebook.id]=t.notebook,n;case"session/LOGOUT_USER":return{};default:return e}},trash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{trash:[]},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"trash/SET_TRASH":return n.trash=t.trash,n;case"trash/ADD_TO_TRASH":return n.trash=[].concat(Object(re.a)(n.trash),[t.noteId]),n;case"trash/EMPTY_TRASH":return n.trash=[],n;case"session/LOGOUT_USER":return{};default:return e}}}),de=Object(ue.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"session/SET_USER":return n.user_id=t.user.user_id,n;case"session/LOGOUT_USER":return{};case"session/SET_SELECTED_NOTEBOOK":return n.selectedNotebookId=t.notebookId,n;case"notebooks/SET_DEFAULT_NOTEBOOK":return n.defaultNotebookId=t.defaultNotebookId,n;case"session/SET_NOTE_LIST":return n.noteList=t.noteList,n;case"session/SET_ACTIVE_NOTE":return n.activeNote=t.noteId,n;default:return e}},entities:pe,ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"ui/TOGGLE_USER_MODAL":return n.userModal=!n.userModal,n;case"ui/TOGGLE_CREATE_NOTEBOOK_MODAL":return n.createNotebook=!n.createNotebook,n;case"ui/TOGGLE_EDIT_NOTEBOOK_MODAL":return n.editNotebook=!n.editNotebook,n;case"ui/TOGGLE_NOTE_OPTIONS_MODAL":return n.noteOptions=!n.userModal,n;case"ui/TOGGLE_NOTEBOOK_OPTIONS_MODAL":return n.notebookOptions=!n.notebookOptions,n;case"ui/TOGGLE_MOVE_NOTES_MODAL":return n.moveNotes=!n.moveNotes,n;default:return e}}});se=Object(ue.a)(ie.a);var me,fe=Object(ue.d)(de,me,se);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.a,{store:fe},r.a.createElement(le,null))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.1f95a00e.chunk.js.map