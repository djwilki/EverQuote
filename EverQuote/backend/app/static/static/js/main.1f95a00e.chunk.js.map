{"version":3,"sources":["styles/notebook.module.css","styles/navbar.module.css","components/User.js","components/UsersList.js","store/users.js","store/session.js","store/notesbooks.js","components/SignUp.js","components/LoginForm.js","components/AuthRoute.js","store/ui.js","components/NewNotebookModal.js","components/EditNotebookModal.js","components/NotebookMoreActionsModal.js","components/NoteRow.js","components/NotebookRow.js","components/Notebooks.js","components/NoteCard.js","components/NoteList.js","store/notes.js","components/TextEditor.js","components/Notes.js","components/MainContent.js","components/NewNoteButton.js","components/UserModal.js","components/Navbar.js","store/trash.js","components/Home.js","App.js","store/configureStore.js","index.js"],"names":["module","exports","User","props","user","username","email","UsersList","useState","users","setUsers","useEffect","a","fetch","response","json","responseData","fetchData","userComponents","map","key","id","signup","password","csrfToken","Cookies","get","dispatch","method","headers","body","JSON","stringify","res","data","ok","type","console","error","setUserInfo","userId","setSelectedNotebook","notebookId","setActiveNote","noteId","login","email_or_username","logout","initialSessionState","user_id","selectedNotebookId","defaultNotebookId","noteList","activeNote","editNotebook","notebook","updateUserNotebook","path","setUserNotebooks","log","notebooks","Object","values","forEach","ele","isDefault","addUserNotebooks","title","window","editUserNotebooks","withRouter","history","setEmail","setUsername","setPassword","errors","setErrors","useDispatch","submitHandler","e","preventDefault","replace","demoUserClick","event","className","alt","src","style","width","onClick","onSubmit","name","value","onChange","target","placeholder","length","i","to","emailOrUsername","setEmailOrUsername","handleSubmit","action","connect","state","ownProps","session","component","initialUIState","userModal","noteOptions","notebookOptions","moveNotes","createNotebook","NewNotebookModal","CreateNotebookModal","setTitle","useSelector","handleClick","stopPropagation","position","height","backgroundColor","zIndex","opacity","borderRadius","boxShadow","top","left","transform","display","justifyContent","padding","fontSize","fontWeight","fontFamily","outline","fill","xmlns","d","flexDirection","marginBottom","border","marginLeft","marginRight","marginTop","boxBorder","EditNotebookModal","editNotebookId","togEditNotebookModal","NotebookMoreActionsModal","MoreActionsNotebookModal","NoteRow","note","fillRule","clipRule","updated_at","NotebookRow","setEditNotebookId","notes","entities","filter","ui","Notebooks","fill-rule","clip-rule","currentNotebookId","isTrash","styles","notebooks_container","notebooks_title_bar","notebooks_title","buttons","newNotebook","sortOptions","notebooks_table","notebooks_table_headers","NoteCard","content","slice","sort","b","aDate","Date","getTime","color","setUserNotes","keys","addNote","updateNote","TextEditor","activeNoteObj","setContent","loading","setLoading","autosaveTimeout","useRef","minHeight","onKeyUp","current","clearTimeout","setTimeout","rows","resize","defaultProps","Notes","match","url","handleLogout","handleSelect","Number","getUsername","select_notebooks","sidebar_nav","usernameDropDown","navlinks","activeclass","extra_navlinks","setUserTrash","trash","getNotes","getTrash","getNotebooks","getUserInfo","App","storeEnhancer","getCSRF","exact","SignUp","Home","combineReducers","newState","assign","rootReducer","applyMiddleware","thunk","initialState","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f95a00e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"notebooks_container\":\"notebook_notebooks_container__3XDiR\",\"notebooks_title_bar\":\"notebook_notebooks_title_bar__2g6Z6\",\"newNotebook\":\"notebook_newNotebook__1UUKA\",\"sortOptions\":\"notebook_sortOptions__7Da-b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar_nav\":\"navbar_sidebar_nav__3crPa\",\"usernameDropDown\":\"navbar_usernameDropDown__bWK-n\",\"newNoteBtn\":\"navbar_newNoteBtn__3Xzkx\",\"extra_navlinks\":\"navbar_extra_navlinks__Z2FyT\"};","import React from 'react';\n\n\nfunction User(props) {\n    return (\n        <>\n            <strong>Username:</strong> {props.user.username}<br />\n            <strong>Email:</strong> {props.user.email}<br />\n            <hr />\n        </>\n    );\n}\nexport default User;","import React, { useEffect, useState } from 'react';\n\nimport User from './User';\n\nfunction UsersList (props) {\n    const [users, setUsers] = useState([]);\n\n    useEffect(() => {\n        async function fetchData() {\n            const response = await fetch('/api/users/');\n            const responseData = await response.json();\n            setUsers(responseData.users);\n        }\n        fetchData();\n    }, []);\n\n    const userComponents = users.map((user) => <User key={user.id} user={user} />)\n    return (\n        <>\n            <h1>User List: </h1>\n            {userComponents}\n        </>\n        );\n}\n\nexport default UsersList;","\nimport Cookies from 'js-cookie'\nexport const CREATE_USER = \"signup/CREATE_USER\";\nconst LOGOUT_USER = 'session/LOGOUT_USER';\nconst SET_USER = 'users/SET_USER';\n\nconst setUser = (user) => {\n    return {\n        type: SET_USER,\n        user\n    }\n}\n\nconst createUser = (user) => {\n    return {\n        type: CREATE_USER,\n        user\n    };\n};\n\n\n\nexport const signup = (username, email, password) => {\n    const csrfToken = Cookies.get('XSRF-TOKEN');\n    return async dispatch => {\n        const res = await fetch('/api/users/', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            },\n            body: JSON.stringify({ username, password, email, \"csrf_token\": csrfToken })\n        });\n        const data = await res.json();\n        res.data = data;\n        if (res.ok) {\n            dispatch(createUser(data));\n            return res;\n        } else {\n            console.error('Bad response');\n            return res;\n        }\n    }\n};\n\nexport const setUserInfo = (userId) => {\n    return async dispatch => {\n        const res = await fetch(`api/users/${userId}`);\n\n        res.data = await res.json();\n\n        if (res.ok) {\n            dispatch(setUser(res.data));\n        }\n\n        return res;\n    }\n}\n\n\nexport default function usersReducer(state = {}, action) {\n    switch (action.type) {\n        case CREATE_USER:\n            return action.user;\n        case LOGOUT_USER:\n            return {};\n        case SET_USER:\n            return { [action.user.id]: action.user };\n        default:\n            return state;\n    }\n}","import Cookies from 'js-cookie';\n\nconst SET_DEFAULT_NOTEBOOK = 'notebooks/SET_DEFAULT_NOTEBOOK'\nconst SET_USER = 'session/SET_USER';\nconst LOGOUT_USER = 'session/LOGOUT_USER';\nconst SET_SELECTED_NOTEBOOK = 'session/SET_SELECTED_NOTEBOOK';\nconst SET_NOTE_LIST = \"session/SET_NOTE_LIST\";\nconst SET_ACTIVE_NOTE = \"session/SET_ACTIVE_NOTE\";\n\nexport const setSelectedNotebook = (notebookId) => {\n    return {\n        type: SET_SELECTED_NOTEBOOK,\n        notebookId\n    };\n}\n\nexport const setActiveNote = (noteId) => {\n    return {\n        type: SET_ACTIVE_NOTE,\n        noteId\n    }\n}\n\nexport const setUser = user => {\n    return {\n        type: SET_USER,\n        user\n    }\n};\n\nexport const logoutUser = () => {\n    return {\n        type: LOGOUT_USER\n    }\n}\n\n\n\n\n\nexport const login = (email_or_username, password) => {\n    const csrfToken = Cookies.get('XSRF-TOKEN');\n    return async dispatch => {\n        const res = await fetch('/api/session/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            },\n            body: JSON.stringify({ email_or_username, password, \"csrf_token\": csrfToken })\n        });\n        res.data = await res.json();\n\n        if (res.ok) {\n            dispatch(setUser(res.data.user));\n        }\n        return res\n    }\n};\n\nexport const logout = () => {\n    const csrfToken = Cookies.get(\"XSRF-TOKEN\");\n    return async dispatch => {\n        const res = await fetch('/api/session/logout', {\n            method: \"DELETE\",\n            headers: {\n                \"X-CSRFTOKEN\": csrfToken\n            }\n        })\n\n        res.data = await res.json();\n\n        if (res.ok) {\n            dispatch(logoutUser());\n        }\n        return res;\n    }\n}\n\nconst initialSessionState = {\n    user_id: null,\n    selectedNotebookId: null,\n    defaultNotebookId: null,\n    noteList: null,\n    activeNote: null\n}\n\n\nexport default function sessionReducer(state = initialSessionState, action) {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case SET_USER:\n            newState.user_id = action.user.user_id;\n            return newState;\n        case LOGOUT_USER:\n            return {};\n            // newState.user_id = null;\n            // return newState;\n        case SET_SELECTED_NOTEBOOK:\n            newState.selectedNotebookId = action.notebookId;\n            return newState;\n        case SET_DEFAULT_NOTEBOOK:\n            newState.defaultNotebookId = action.defaultNotebookId;\n            return newState;\n        case SET_NOTE_LIST:\n            newState.noteList = action.noteList;\n            return newState;\n        case SET_ACTIVE_NOTE:\n            newState.activeNote = action.noteId;\n            return newState;\n        default:\n            return state;\n    }\n};","import Cookies from 'js-cookie';\nimport { setSelectedNotebook } from './session';\n\nexport const SET_NOTEBOOKS = \"notebooks/SET_NOTEBOOKS\";\nexport const ADD_NOTEBOOK = \"notebooks/ADD_NOTEBOOK\";\nexport const EDIT_NOTEBOOK = \"notebooks/EDIT_NOTEBOOK\";\nexport const SET_DEFAULT_NOTEBOOK = \"notebooks/SET_DEFAULT_NOTEBOOK\";\nexport const LOGOUT_USER = 'session/LOGOUT_USER';\n\n\nconst setNotebooks = (notebooks) => {\n    return {\n        type: SET_NOTEBOOKS,\n        notebooks\n    }\n}\n\nconst addNotebook = (notebook) => {\n    return {\n        type: ADD_NOTEBOOK,\n        notebook\n    }\n}\n\n\nconst editNotebook = (notebook) => {\n    return {\n        type: EDIT_NOTEBOOK,\n        notebook\n    }\n}\n\nexport const setDefaultNotebook = (defaultNotebookId) => {\n    return {\n        type: SET_DEFAULT_NOTEBOOK,\n        defaultNotebookId\n    }\n}\n\n\nexport const updateUserNotebook = id => {\n    const csrfToken = Cookies.get('XSRF-TOKEN');\n    const path = `/api/notebooks/${id}/update`;\n    return async dispatch => {\n        const res = await fetch(path, {\n            method: 'put',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            },\n            body: JSON.stringify({ id })\n        });\n        const data = await res.json();\n        res.data = data;\n        if (res.ok) {\n            dispatch(editNotebook(res.data));\n        }\n        return res;\n    }\n}\n\n\nexport const setUserNotebooks = id => {\n    const path = `/api/users/${id}/notebooks`;\n    return async dispatch => {\n        const res = await fetch(path);\n        res.data = await res.json();\n        console.log(\"reducer\", res);\n        if (res.ok) {\n            dispatch(setNotebooks(res.data));\n            Object.values(res.data).forEach(ele => {\n                if (ele.isDefault) {\n                    dispatch(setDefaultNotebook(ele.id))\n                    dispatch(setSelectedNotebook(ele.id))\n                }\n            })\n        }\n        return res;\n    }\n}\n\nexport const addUserNotebooks = (title, isDefault, userId) => {\n    const csrfToken = Cookies.get('XSRF-TOKEN');\n    // const path = `api/users/${userId}/notebooks`;\n    const path = `/api/notebooks/`;\n    return async dispatch => {\n        const res = await fetch(path, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            },\n            body: JSON.stringify({ title, isDefault, userId, \"csrf_token\": csrfToken })\n        });\n        const data = await res.json();\n        res.data = data;\n        if (res.ok) {\n            dispatch(addNotebook(res.data));\n        }\n        return res;\n    }\n}\n\nwindow.addUserNotebooks = addUserNotebooks;\n\n\nexport const editUserNotebooks = (title, isDefault, userId, id) => {\n    const csrfToken = Cookies.get('XSRF-TOKEN');\n    const path = `/api/notebooks/${id}`;\n    return async dispatch => {\n        const res = await fetch(path, {\n            method: 'put',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            },\n            body: JSON.stringify({ title, isDefault, userId, \"csrf_token\": csrfToken })\n        });\n        const data = await res.json();\n        res.data = data;\n        if (res.ok) {\n            dispatch(editNotebook(res.data));\n        }\n        return res;\n    }\n}\n\nexport default function notebooksReducer(state = {}, action) {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case SET_NOTEBOOKS:\n            return action.notebooks;\n        case ADD_NOTEBOOK:\n            return {...state, [action.notebook.id]: action.notebook};\n        case EDIT_NOTEBOOK:\n            newState[action.notebook.id] = action.notebook;\n            return newState;\n        case LOGOUT_USER:\n            return {};\n        default:\n            return state;\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { signup } from \"../store/users.js\";\nimport { login } from \"../store/session.js\";\nimport { withRouter } from 'react-router-dom';\nimport '../styles/auth.css';\nimport styles from '../styles/auth.module.css';\nimport { addUserNotebooks } from \"../store/notesbooks.js\";\n\n\nconst SignUpPage = ({ history }) => {\n\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [errors, setErrors] = useState([]);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        setErrors([]);\n    }, [email, username, password]);\n\n    const submitHandler = async (e) => {\n        e.preventDefault();\n        const res = await dispatch(signup(username, email, password));\n        console.log(\"signup res\", res)\n        if (res.ok) {\n            await dispatch(login(username, password));\n            history.replace(\"/\")\n            return;\n        }\n\n        setErrors(res.data.errors);\n    }\n\n    const demoUserClick = async (event) => {\n        event.preventDefault();\n\n        const res = await dispatch(login(\"demo@demo.com\", \"password\"))\n\n        if (res.ok) {\n            history.replace('/');\n            return;\n        }\n\n        setErrors(res.data.errors);\n    }\n\n    return (\n\n        <div className=\"form-wrapper centered\">\n            <div className=\"form-container\">\n                <div className=\"form-header\">\n                    <img alt=\"logo\" src='https://i.imgur.com/GOpcw1D.png' style={{ width: \"30%\" }} />\n                    <h1 className=\"header-title\">\n                        EverQuote\n                    </h1>\n                    <div className=\"header-tagline\">\n                        Remember everything important.\n                    </div>\n                </div>\n                <button onClick={demoUserClick} className=\"demo_button\">Continue as Demo User</button>\n                <div className=\"divider-container\">\n                    <div className=\"divider-text\">or</div>\n                    <div className=\"divider-line\"></div>\n                </div>\n                <div className=\"login_form_container\">\n\n                    <form onSubmit={submitHandler}>\n                        <input name=\"username\" type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} className=\"auth_input\" placeholder='Username' />\n                        <input name=\"email\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"auth_input\" placeholder='Email' />\n                        <input name=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"auth_input\" placeholder='Password' />\n                        <div className=\"login_form_error_container\" >\n                            {errors.length ?\n                                <ul className=\"auth_error_list\">\n                                    {errors.map((error, i) => <li className=\"error_message\" key={`error-${i + 1}`}>{error}</li>)}\n                                </ul>\n                                : <></>}\n                        </div>\n                        <button type=\"submit\" className=\"auth_button\">Continue</button>\n                    </form>\n                </div>\n                <div className=\"form-footer\">\n                    <div className=\"footer-tagline\">\n                        Already have an account?\n                    </div>\n                    <div className=\"footer-cta-wrapper\">\n                        <Link className=\"footer-cta\" to='/login'>Sign in</Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default withRouter(SignUpPage)\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport { login } from '../store/session';\nimport '../styles/auth.css';\n\nconst LoginForm = ({ history }) => {\n    const [emailOrUsername, setEmailOrUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [errors, setErrors] = useState([]);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        setErrors([]);\n    }, [emailOrUsername, password]);\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        const res = await dispatch(login(emailOrUsername, password))\n\n        if (res.ok) {\n            history.replace('/');\n            return;\n        }\n\n        setErrors(res.data.errors);\n    }\n\n    const onEmailOrUsernameChange = (event) => {\n        setEmailOrUsername(event.target.value);\n    }\n\n    const onPasswordChange = (event) => {\n        setPassword(event.target.value);\n\n    }\n\n    const demoUserClick = async (event) => {\n        event.preventDefault();\n\n        const res = await dispatch(login(\"demo\", \"password\"))\n\n        if (res.ok) {\n            history.replace('/');\n            return;\n        }\n\n        setErrors(res.data.errors);\n    }\n\n    return (\n\n        <div className=\"form-wrapper centered\">\n            <div className=\"form-container\">\n                <div className=\"form-header\">\n                    <img alt=\"logo\" src='https://i.imgur.com/GOpcw1D.png' style={{ width: \"30%\" }} />\n                    <h1 className=\"header-title\">\n                        EverQuote\n                    </h1>\n                    <div className=\"header-tagline\">\n                        Remember everything important.\n                    </div>\n                </div>\n                <button onClick={demoUserClick} className=\"demo_button\">Continue as Demo User</button>\n                <div className=\"divider-container\">\n                    <div className=\"divider-text\">or</div>\n                    <div className=\"divider-line\"></div>\n                </div>\n                <div className=\"login_form_container\">\n\n                    <form method=\"\" action=\"\" onSubmit={handleSubmit}>\n                        <div>\n                            <input placeholder=\"Email or Username\" type=\"text\" name=\"email_or_username\" value={emailOrUsername} className=\"auth_input\" onChange={onEmailOrUsernameChange} />\n                        </div>\n\n                        <div>\n                            <input placeholder=\"Password\" type=\"password\" name=\"password\" value={password} className=\"auth_input\" onChange={onPasswordChange} />\n                        </div>\n                        <div className=\"login_form_error_container\">\n                            {errors.length ?\n                                <ul className=\"auth_error_list\">\n                                    {errors.map((error, i) => <li className=\"error_message\" key={`error-${i + 1}`}>{error}</li>)}\n                                </ul>\n                                : <></>}\n                        </div>\n                        <button type=\"submit\" className=\"auth_button\">Continue</button>\n                    </form>\n                </div>\n                <div className=\"form-footer\">\n                    <div className=\"footer-tagline\">\n                        Don't have an account?\n                    </div>\n                    <div className=\"footer-cta-wrapper\">\n                        <Link className=\"footer-cta\" to='/signup'>Create account</Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(LoginForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst AuthRoute = ({ user_id, path, component }) => {\n    if (!user_id) {\n        return <Redirect to='/login' />;\n    }\n\n    return (\n        <>\n        <Route path={path} component={component}/>\n        { path === '/' ? <Redirect to='/notes'/> : <></>}\n        </>\n    );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const { session: { user_id } } = state;\n    return { user_id: user_id, ...ownProps };\n}\n\nexport default connect(mapStateToProps)(AuthRoute);","const TOGGLE_USER_MODAL = 'ui/TOGGLE_USER_MODAL';\nconst TOGGLE_NOTE_OPTIONS_MODAL = 'ui/TOGGLE_NOTE_OPTIONS_MODAL';\nconst TOGGLE_NOTEBOOK_OPTIONS_MODAL = 'ui/TOGGLE_NOTEBOOK_OPTIONS_MODAL';\nconst TOGGLE_MOVE_NOTES_MODAL = 'ui/TOGGLE_MOVE_NOTES_MODAL';\nconst TOGGLE_EDIT_NOTEBOOK_MODAL = 'ui/TOGGLE_EDIT_NOTEBOOK_MODAL';\nconst TOGGLE_CREATE_NOTEBOOK_MODAL = 'ui/TOGGLE_CREATE_NOTEBOOK_MODAL';\n\nexport const toggleUserModal = () => {\n    return {\n        type: TOGGLE_USER_MODAL\n    }\n};\n\nexport const toggleNoteModal = () => {\n    return {\n        type: TOGGLE_NOTE_OPTIONS_MODAL\n    }\n};\n\nexport const toggleNotebookModal = () => {\n    return {\n        type: TOGGLE_NOTEBOOK_OPTIONS_MODAL\n    }\n};\n\nexport const toggleMoveModal = () => {\n    return {\n        type: TOGGLE_MOVE_NOTES_MODAL\n    }\n};\n\nexport const toggleEditNotebookModal = () => {\n    return {\n        type: TOGGLE_EDIT_NOTEBOOK_MODAL\n    }\n};\n\nexport const toggleCreateNotebookModal = () => {\n    return {\n        type: TOGGLE_CREATE_NOTEBOOK_MODAL\n    }\n};\n\nconst initialUIState = {\n    userModal: false,\n    noteOptions: false,\n    notebookOptions: false,\n    moveNotes: false,\n    editNotebook: false,\n    createNotebook: false\n};\n\nexport default function uiReducer(state = initialUIState, action) {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case TOGGLE_USER_MODAL:\n            newState.userModal = !newState.userModal;\n            return newState;\n        case TOGGLE_CREATE_NOTEBOOK_MODAL:\n            newState.createNotebook = !newState.createNotebook;\n            return newState;\n        case TOGGLE_EDIT_NOTEBOOK_MODAL:\n            newState.editNotebook = !newState.editNotebook;\n            return newState;\n        case TOGGLE_NOTE_OPTIONS_MODAL:\n            newState.noteOptions = !newState.userModal;\n            return newState;\n        case TOGGLE_NOTEBOOK_OPTIONS_MODAL:\n            newState.notebookOptions = !newState.notebookOptions;\n            return newState;\n        case TOGGLE_MOVE_NOTES_MODAL:\n            newState.moveNotes = !newState.moveNotes;\n            return newState;\n        default:\n            return state;\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addUserNotebooks } from '../store/notesbooks'\n\nconst NewNotebookModal = ({ CreateNotebookModal }) => {\n    const [title, setTitle] = useState(\"\");\n    const dispatch = useDispatch();\n    const userId = useSelector(state => state.session.user_id)\n\n\n\n    const handleClick = async (event) => {\n        event.stopPropagation();\n        const res = await dispatch(addUserNotebooks(title, false, userId));\n\n        if (res.ok) {\n            CreateNotebookModal(event)\n            return;\n        }\n\n    }\n\n    return (\n        <div style={{ position: \"fixed\", width: \"100%\", height: \"100%\", backgroundColor: \"rgba(133, 133, 133, 0.5)\", zIndex: \"9\" }}>\n            <div style={{ backgroundColor: \"white\", opacity: \"100%\", zIndex: \"10\", width: \"478px\", height: \"263px\", borderRadius: \"4px\", boxShadow: \"0 2px 8px rgba(0,0,0,0.16)\", position: \"fixed\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"20px 25px 18px\" }}>\n                    <span style={{ fontSize: \"18px\", fontWeight: \"500\", fontFamily: \"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif\" }}>Create new notebook</span>\n                    <button style={{ outline: \"none\" }} type=\"button\" onClick={CreateNotebookModal}>\n                        <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"vQzJB1pohgMjFOPTzHGKk\" id=\"qa-DIALOG_CLOSE\"><path d=\"M17.53 6.47a.75.75 0 00-1.06 0L12 10.94 7.53 6.47a.75.75 0 00-1.06 1.06L10.94 12l-4.47 4.47a.75.75 0 101.06 1.06L12 13.06l4.47 4.47a.75.75 0 101.06-1.06L13.06 12l4.47-4.47a.75.75 0 000-1.06z\" fill=\"currentColor\"></path></svg>\n                    </button>\n                </div>\n                <div style={{ fontSize: \"12px\", fontWeight: \"400\", fontFamily: \"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif\", padding: \"0px 25px 0px\" }}>Notebooks are useful for grouping notes around a common topic. They can be private or shared.</div>\n                <form action=\"\" method=\"\" style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", padding: \"0 25px 0\" }}>\n                    <div style={{ marginBottom: \"5px\" }}>Name</div>\n                    <input style={{ outline: \"none\", borderRadius: \"5px\", border: \"1px solid #E6E6E6\", padding: \"0 10px 0\", width: \"406px\", height: \"38px\", marginLeft: \"auto\", marginRight: \"auto\", }} name=\"title\" type=\"text\" placeholder=\"Notebook name\" onChange={(e) => setTitle(e.target.value)} />\n                    <div style={{display: \"flex\", justifyContent: \"flex-end\", marginTop: \"65px\", }}>\n                        <button style={{boxBorder: \"1px solid black\", borderRadius: \"5px\", padding: \"10px 15x 10px\", outline: \"none\"}} type=\"button\" onClick={CreateNotebookModal}>Cancel</button>\n                        <button style={{outline: \"none\"}} type=\"button\" onClick={handleClick}>Continue</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\n\nexport default NewNotebookModal;","import React, { useState, useEffect } from \"react\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport { editUserNotebooks } from '../store/notesbooks'\nimport { toggleCreateNotebookModal, toggleEditNotebookModal, toggleNotebookModal } from '../store/ui'\n\n\n\nconst EditNotebookModal = ({ editNotebookId }) => {\n    const [title, setTitle] = useState(\"\");\n    const dispatch = useDispatch();\n    const userId = useSelector(state => state.session.user_id)\n\n\n    const handleClick = async (event) => {\n        event.stopPropagation();\n        const notebookId = editNotebookId\n        const res = await dispatch(editUserNotebooks(title, false, userId, notebookId));\n\n        if (res.ok) {\n            togEditNotebookModal(event);\n            return;\n        }\n    }\n\n    const togEditNotebookModal = (e) => {\n        e.preventDefault()\n        dispatch(toggleEditNotebookModal())\n    }\n\n\n    return (\n        <div className={\"edit-notebook-modal-container\"} style={{ position: \"fixed\", width: \"100%\", height: \"100%\", backgroundColor: \"rgba(133, 133, 133, 0.5)\", zIndex: \"9\" }}>\n            <div style={{ backgroundColor: \"white\", opacity: \"100%\", zIndex: \"10\", width: \"478px\", height: \"263px\", borderRadius: \"4px\", boxShadow: \"0 2px 8px rgba(0,0,0,0.16)\", position: \"fixed\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"20px 25px 18px\" }}>\n                    <span style={{ fontSize: \"18px\", fontWeight: \"500\", fontFamily: \"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif\" }}>Rename notebook</span>\n                    <button style={{ outline: \"none\"}} type=\"button\" onClick={(e) => { togEditNotebookModal(e) }}>\n                        <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"vQzJB1pohgMjFOPTzHGKk\" id=\"qa-DIALOG_CLOSE\"><path d=\"M17.53 6.47a.75.75 0 00-1.06 0L12 10.94 7.53 6.47a.75.75 0 00-1.06 1.06L10.94 12l-4.47 4.47a.75.75 0 101.06 1.06L12 13.06l4.47 4.47a.75.75 0 101.06-1.06L13.06 12l4.47-4.47a.75.75 0 000-1.06z\" fill=\"currentColor\"></path></svg>\n                    </button>\n                </div>\n                <form action=\"\" method=\"\" style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", padding: \"0 25px 0\" }}>\n                    <div style={{marginBottom: \"5px\"}}>Name</div>\n                    <input style={{ outline: \"none\", borderRadius: \"5px\", border: \"1px solid #E6E6E6\", padding: \"0 10px 0\", width: \"406px\", height: \"38px\", marginLeft: \"auto\", marginRight: \"auto\", }}\n                        name=\"title\" type=\"text\" placeholder=\"Notebook name\" onChange={(e) => setTitle(e.target.value)} />\n                    <div style={{display: \"flex\", justifyContent: \"flex-end\", marginTop: \"95px\", }}>\n                        <button style={{boxBorder: \"1px solid black\", borderRadius: \"5px\", padding: \"10px 15x 10px\", outline: \"none\"}} type=\"button\" onClick={(e) => { togEditNotebookModal(e) }}>Cancel</button>\n                        <button style={{outline: \"none\"}} type=\"button\" onClick={handleClick}>Continue</button>\n                    </div>\n                </form>\n            </div>\n        </div >\n    )\n}\n\n\nexport default EditNotebookModal;\n","import React, { useState, useEffect } from \"react\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addUserNotebooks } from '../store/notesbooks'\nimport EditNotebookModal from \"./EditNotebookModal\";\n\nconst NotebookMoreActionsModal = ({ MoreActionsNotebookModal, EditNotebookModal }) => {\n    const [title, setTitle] = useState(\"\");\n    const dispatch = useDispatch();\n    const userId = useSelector(state => state.session.user_id)\n\n\n\n    const handleClick = async (event) => {\n        event.stopPropagation();\n        MoreActionsNotebookModal(event);\n    }\n    return (\n        <>\n        <div style={{position: \"relative\", zIndex: \"8\", backgroundColor: \"white\", left: \"-100px\"}}>\n            <button onClick={(e)=>{\n\n            }} >Rename notebook</button>\n        </div>\n        </>\n    )\n}\n\nexport default NotebookMoreActionsModal;","import React from 'react';\n\n\nconst NoteRow = ({ note, username }) => {\n\n\n\n    return (\n    <tr>\n        <td style={{ padding: \"0px 0px 0px 64px\" }}>\n            <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7.665 4.5h8.75c.92 0 1.667.746 1.667 1.667v8.748h-3.334a.625.625 0 00-.625.624v3.958H7.665c-.92 0-1.667-.747-1.667-1.667V6.167c0-.92.747-1.667 1.667-1.667zm7.037 4.584a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h5.404zm.625 2.918c0 .345-.28.625-.625.625H9.298a.625.625 0 010-1.25h5.404c.345 0 .625.28.625.625zm-4.363 4.158a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h1.666z\" fill=\"currentColor\"></path><path d=\"M15.373 16.164h2.157l-2.107 2.693-.05.06v-2.753z\" fill=\"currentColor\"></path></svg>\n            {note.title}\n        </td>\n        <td>{username}</td>\n        <td>{note.updated_at}</td>\n        <td>\n            ...\n            </td>\n            \n    </tr>\n    )\n}\nexport default NoteRow;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NoteRow from './NoteRow';\nimport NotebookMoreActionsModal from './NotebookMoreActionsModal'\nimport { toggleEditNotebookModal, toggleNotebookModal } from '../store/ui';\n\n\nconst NotebookRow = ({ notebook, username, setEditNotebookId }) => {\n    const notes = useSelector(state => Object.values(state.entities.notes).filter((note) => note.notebookId === notebook.id));\n    const notebookOptions = useSelector(state => state.ui.notebookOptions)\n\n    const dispatch=useDispatch();\n\n    const MoreActionsNotebookModal = (e) => {\n        e.preventDefault()\n        dispatch(toggleNotebookModal());\n    }\n\n    const togEditNotebookModal = (e) => {\n        e.preventDefault()\n        setEditNotebookId(notebook.id)\n        dispatch(toggleEditNotebookModal())\n    }\n\n    return (\n        <>\n            <tr className={`notebook-${notebook.id}`}>\n                <td>\n                    <button >\n                        <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10 7l6 5-6 5V7z\" fill=\"currentColor\"></path></svg>\n                    </button>\n                    <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.035 4.5H5.958v15h2.077v-15z\" fill=\"currentColor\"></path><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.285 4.5v15h7.09c.92 0 1.667-.746 1.667-1.667V6.167c0-.92-.747-1.667-1.667-1.667h-7.09zm6.63 5.083a.75.75 0 01-.75.75h-3a.75.75 0 110-1.5h3a.75.75 0 01.75.75z\" fill=\"currentColor\"></path></svg>\n                    {notebook.title}\n                </td>\n                <td>{username}</td>\n                <td>{notebook.updated_at}</td>\n                <td>\n                    {/* <button onClick={MoreActionsNotebookModal}>...</button> */}\n                    <button onClick={togEditNotebookModal}>...</button>\n                    <div></div>\n                    {notebookOptions ? <NotebookMoreActionsModal togEditNotebookModal={togEditNotebookModal} notebookId={notebook.id}/> : \"\"}\n                </td>\n            </tr>\n            { notes.map((note, i) => {\n                return (\n                    <NoteRow key={`notebook-${notebook.id}-note-${i + 1}`} note={note} username={username} />\n                )\n            })}\n        </>\n    );\n}\n\nexport default NotebookRow;","import React, { useState, useEffect } from \"react\"\nimport '../styles/index.css';\nimport styles from '../styles/notebook.module.css';\nimport { addUserNotebooks } from '../store/notesbooks'\nimport { toggleCreateNotebookModal, toggleEditNotebookModal, toggleNotebookModal } from '../store/ui'\nimport { useDispatch, useSelector } from 'react-redux';\nimport NewNotebookModal from './NewNotebookModal';\nimport EditNotebookModal from './EditNotebookModal'\nimport NotebookMoreActionsModal from './NotebookMoreActionsModal'\nimport NotebookRow from './NotebookRow';\n\n\nfunction Notebooks(props) {\n\n    const dispatch = useDispatch();\n    const userId = useSelector(state => state.session.user_id)\n    const notebooks = useSelector(state => Object.values(state.entities.notebooks))\n    const notes = useSelector(state => Object.values(state.entities.notes))\n    const username = useSelector(state => state.entities.users[userId].username)\n    const createNotebook = useSelector(state => state.ui.createNotebook)\n    const editNotebook = useSelector(state => state.ui.editNotebook)\n    const [editNotebookId, setEditNotebookId] = useState(null);\n    \n    console.log(editNotebookId)\n    \n    const [title, setTitle] = useState('');\n    const [errors, setErrors] = useState([]);\n\n    const note_rows = (currentNotebookId) => {\n        return Object.values(notes).map(ele => {\n            if (currentNotebookId === ele.notebookId && !ele.isTrash) {\n                return (\n                    <tr>\n                        <td style={{ padding: \"0px 0px 0px 64px\" }}>\n                            <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.665 4.5h8.75c.92 0 1.667.746 1.667 1.667v8.748h-3.334a.625.625 0 00-.625.624v3.958H7.665c-.92 0-1.667-.747-1.667-1.667V6.167c0-.92.747-1.667 1.667-1.667zm7.037 4.584a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h5.404zm.625 2.918c0 .345-.28.625-.625.625H9.298a.625.625 0 010-1.25h5.404c.345 0 .625.28.625.625zm-4.363 4.158a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h1.666z\" fill=\"currentColor\"></path><path d=\"M15.373 16.164h2.157l-2.107 2.693-.05.06v-2.753z\" fill=\"currentColor\"></path></svg>                            {ele.title}\n                        </td>\n                        <td>You</td>\n                        <td>{ele.updated_at}</td>\n                        <td>...</td>\n                    </tr>\n                )\n            }\n        })\n    }\n\n    const notebook_rows = Object.values(notebooks).map(ele => {\n        return (\n            <>\n                <tr>\n                    <td>\n                        <button >\n                            <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 7l6 5-6 5V7z\" fill=\"currentColor\"></path></svg>\n                        </button>\n                        <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.035 4.5H5.958v15h2.077v-15z\" fill=\"currentColor\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.285 4.5v15h7.09c.92 0 1.667-.746 1.667-1.667V6.167c0-.92-.747-1.667-1.667-1.667h-7.09zm6.63 5.083a.75.75 0 01-.75.75h-3a.75.75 0 110-1.5h3a.75.75 0 01.75.75z\" fill=\"currentColor\"></path></svg>\n                        {ele.title}\n                    </td>\n                    <td>You</td>\n                    <td>{ele.updated_at}</td>\n                    <td>...</td>\n                </tr>\n                {note_rows(ele.id)}\n            </>\n        )\n    })\n\n\n\n\n    useEffect(() => {\n        setErrors([]);\n    }, [title]);\n\n    const newNotebook = async (e) => {\n        e.preventDefault();\n        const res = await dispatch(addUserNotebooks(title, false, userId))\n\n        if (res.ok) {\n            return;\n        }\n\n        setErrors(res.data.errors);\n    }\n\n    const CreateNotebookModal = (e) => {\n        e.preventDefault()\n        dispatch(toggleCreateNotebookModal());\n    }\n\n    const MoreActionsNotebookModal = (e) => {\n        e.preventDefault()\n        dispatch(toggleNotebookModal());\n    }\n\n\n\n\n\n\n    return (\n        <main className={styles.notebooks_container}>\n            {createNotebook ? <NewNotebookModal CreateNotebookModal={CreateNotebookModal}/> : \"\"}\n            {editNotebook ? <EditNotebookModal editNotebookId={editNotebookId}/> : \"\"}\n            <h1>Notebooks</h1>\n            <div className={styles.notebooks_title_bar}>\n                <div className={styles.notebooks_title}>\n                    <h2>My notebook list</h2>\n                </div>\n                <div className={styles.buttons}>\n                    <button className={styles.newNotebook} onClick={CreateNotebookModal}>\n                        <svg style={{ width: \"24px\", height: \"24px\" }} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"_3rHKgsdA1qX-_9ks50GGiT\"><path d=\"M5.955 4.5H8.03v15H5.955v-15z\" fill=\"currentColor\"></path><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.281 19.5v-15h7.09c.921 0 1.667.746 1.667 1.666v7.294h-.025a4.583 4.583 0 00-4.346 6.04H9.28zm5.88-9.167a.75.75 0 000-1.5h-3a.75.75 0 000 1.5h3z\" fill=\"currentColor\"></path><path d=\"M18.638 15.549a.625.625 0 10-1.25 0v1.904h-1.846a.625.625 0 100 1.25h1.846v1.846a.625.625 0 001.25 0v-1.846h1.904a.625.625 0 100-1.25h-1.904v-1.904z\" fill=\"currentColor\"></path></svg>\n                        New Notebook\n                    </button>\n                    <button className={styles.sortOptions}>\n                        <svg style={{ width: \"24px\", height: \"24px\" }} xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.183 4.625a.625.625 0 00-1.25 0V17.87L5.067 16a.625.625 0 00-.884 0 .62.62 0 000 .88l2.933 2.94c.244.244.64.244.884 0l2.933-2.94a.62.62 0 000-.88.625.625 0 00-.884 0l-1.866 1.87V4.625zM11.625 5a.625.625 0 100 1.25h8.75a.625.625 0 100-1.25h-8.75zM11 9.375c0-.345.28-.625.625-.625h6.25a.625.625 0 110 1.25h-6.25A.625.625 0 0111 9.375zM11.625 12.5a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75z\" fill=\"currentColor\"></path></svg>\n                    </button>\n                </div>\n            </div>\n            <table className={styles.notebooks_table}>\n                <tbody>\n                    <tr className={styles.notebooks_table_headers}>\n                        <th>TITLE</th>\n                        <th>CREATED BY</th>\n                        <th>UPDATED</th>\n                        <th>ACTIONS</th>\n                    </tr>\n                    { notebooks.map((notebook, i) => {\n                        return (\n                            <NotebookRow notebook={notebook} setEditNotebookId={setEditNotebookId} username={username} key={`notebook-${i + 1}`}/>\n                        )\n                    })}\n                </tbody>\n            </table>\n        </main>\n    );\n}\nexport default Notebooks;\n\n// OLD VERSION IN CASE WE NEED\n\n// import React from 'react';\n// import styles from '../styles/notebook.module.css';\n// import { login } from '../store/users'\n\n\n// function Notebooks(props) {\n//     return (\n//         <main className={styles.notebooks_container}>\n//             <h1>Notebooks</h1>\n//             <div className={styles.notebooks_title_bar}>\n//                 <span className={styles.notebooks_title_bar}>\n//                     My notebook list\n//                 </span>\n//                 <span className={styles.title_bar_buttons}>\n//                     <button className={styles.newNotebookBtn}>\n//                         <svg className={styles.notebook_svg} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n//                             <path d=\"M5.955 4.5H8.03v15H5.955v-15z\" fill=\"currentColor\"></path>\n//                             <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.281 19.5v-15h7.09c.921 0 1.667.746 1.667 1.666v7.294h-.025a4.583 4.583 0 00-4.346 6.04H9.28zm5.88-9.167a.75.75 0 000-1.5h-3a.75.75 0 000 1.5h3z\" fill=\"currentColor\"></path>\n//                             <path d=\"M18.638 15.549a.625.625 0 10-1.25 0v1.904h-1.846a.625.625 0 100 1.25h1.846v1.846a.625.625 0 001.25 0v-1.846h1.904a.625.625 0 100-1.25h-1.904v-1.904z\" fill=\"currentColor\"></path>\n//                             </svg>\n//                         <span>\n//                             New Notebook\n//                         </span>\n//                     </button>\n//                     {/* <svg className={styles.notebook_svg} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.183 4.625a.625.625 0 00-1.25 0V17.87L5.067 16a.625.625 0 00-.884 0 .62.62 0 000 .88l2.933 2.94c.244.244.64.244.884 0l2.933-2.94a.62.62 0 000-.88.625.625 0 00-.884 0l-1.866 1.87V4.625zM11.625 5a.625.625 0 100 1.25h8.75a.625.625 0 100-1.25h-8.75zM11 9.375c0-.345.28-.625.625-.625h6.25a.625.625 0 110 1.25h-6.25A.625.625 0 0111 9.375zM11.625 12.5a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75z\" fill=\"currentColor\"></path></svg> */}\n//                 </span>\n//             </div>\n//             <table className={styles.notebooks_table}>\n//                 <tbody>\n//                     <tr className={styles.notebooks_table_headers}>\n//                         <th>TITLE</th>\n//                         <th>CREATED BY</th>\n//                         <th>UPDATED</th>\n//                         <th>ACTIONS</th>\n//                     </tr>\n//                 </tbody>\n//             </table>\n//         </main>\n//     );\n// }\n// export default Notebooks;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setActiveNote } from '../store/session';\n\nconst NoteCard = ({ note }) => {\n    const dispatch = useDispatch();\n\n    const handleNoteClick = (event) => {\n        dispatch(setActiveNote(note.id));\n    }\n\n    return (\n        <div onClick={handleNoteClick}>\n            {\n                <>\n                    <h3>{note.title}</h3>\n                    <span>{note.content.length > 60 ? note.content.slice(0, 60) + '...' : note.content ? note.content : \"\"}</span>\n                </>\n            }\n        </div>\n    )\n}\n\nexport default NoteCard;","import React from 'react';\nimport { connect } from 'react-redux';\nimport NoteCard from './NoteCard';\n\nconst NoteList = ({ noteList, notes }) => {\n\n    return (\n        <div style={{ width: \"380px\", height: \"100vh\", backgroundColor: \"#F8F8F8\" }}>\n            <div>\n                {noteList ? <h1>{noteList}</h1> : <h1 style={{ color: \"black\" }}>All Notes</h1>}\n                <h3>{notes.length} Notes</h3>\n            </div>\n            { notes.map((note, i) => {\n                return (\n                    <NoteCard key={`note-${i + 1}`} note={note} />\n                );\n            })}\n        </div>\n    );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    let notes;\n\n    if (!state.session.noteList) {\n        notes = Object.values(state.entities.notes).filter((note) => !note.isTrash);\n    } else {\n        // notes = Object.values(state.entities.notes).filter((note) => note.notebookId === state.session.noteList);\n        notes = Object.values(state.entities.notes).filter((note) => note.notebookId === state.session.selectedNotebookId);\n    }\n\n    notes.sort((a, b) => {\n        const aDate = new Date(a.updated_at)\n        const bDate = new Date(b.updated_at)\n\n        return bDate.getTime() - aDate.getTime();\n    });\n\n    return {\n        noteList: state.session.noteList,\n        notes\n    };\n}\n\nexport default connect(mapStateToProps)(NoteList);","import Cookies from 'js-cookie';\nimport { setActiveNote } from './session';\nimport { updateUserNotebook } from './notesbooks';\n\nconst ADD_NOTE = '/notes/ADD_NOTE';\nconst SET_NOTES = '/notes/SET_NOTES';\nconst UPDATE_NOTE = \"/notes/UPDATE_NOTE\";\nconst LOGOUT_USER = 'session/LOGOUT_USER';\n\nexport const setNote = note => {\n    return {\n        type: ADD_NOTE,\n        note\n    }\n}\n\nexport const setNotes = notes => {\n    return {\n        type: SET_NOTES,\n        notes\n    }\n}\n\nexport const updateNoteItem = note => {\n    return {\n        type: UPDATE_NOTE,\n        note\n    }\n}\n\nexport const setUserNotes = userId => {\n    const path = `/api/users/${userId}/notes`;\n    return async dispatch => {\n        const res = await fetch(path);\n\n        res.data = await res.json();\n        console.log(res);\n        if (res.ok && Object.keys(res.data).length) {\n            dispatch(setNotes(res.data));\n            dispatch(setActiveNote(Object.values(res.data)[0].id));\n        }\n\n        return res;\n    }\n}\n\nwindow.setUserNotes = setUserNotes;\n\nexport const addNote = (userId, notebookId) => {\n    const csrfToken = Cookies.get('XSRF-TOKEN');\n    return async dispatch => {\n        const res = await fetch('/api/notes', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            },\n            body: JSON.stringify({ userId, notebookId })\n        });\n\n        res.data = await res.json();\n\n        if (res.ok) {\n            dispatch(setNote(res.data));\n            await dispatch(updateUserNotebook(notebookId));\n            dispatch(setActiveNote(res.data.id));\n        }\n        return res;\n    }\n}\n\nexport const updateNote = (noteId, title, content) => {\n    const csrfToken = Cookies.get(\"XSRF-TOKEN\");\n    return async dispatch => {\n        const res = await fetch(`/api/notes/${noteId}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-CSRFTOKEN\": csrfToken\n            },\n            body: JSON.stringify({ noteId, title, content })\n        });\n\n        res.data = await res.json();\n\n        if (res.ok) {\n            dispatch(updateNoteItem(res.data));\n            await dispatch(updateUserNotebook(res.data.notebookId));\n        }\n        return res;\n    }\n}\n\nexport default function noteReducer(state = {}, action) {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case ADD_NOTE:\n            const { id } = action.note;\n            return { [id]: action.note, ...state };\n        case SET_NOTES:\n            return { ...action.notes, ...state };\n        case UPDATE_NOTE:\n            newState[action.note.id] = action.note;\n            return newState;\n        case LOGOUT_USER:\n            return {};\n        default:\n            return state;\n    }\n}","import React, { useState, useEffect, useRef } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { updateNote } from '../store/notes';\nimport { toggleNoteModal } from '../store/ui';\n\n\nconst TextEditor = ({ activeNoteObj }) => {\n    const dispatch = useDispatch();\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    let autosaveTimeout = useRef(null);\n\n    useEffect(() => {\n        setTitle(activeNoteObj.title);\n        setContent(activeNoteObj.content);\n    }, [activeNoteObj]);\n\n    const handleTitleChange = (event) => {\n        setTitle(event.target.value);\n    }\n\n    const handleContentChange = event => {\n        setContent(event.target.value);\n    }\n\n    const handleAutoSave = event => {\n        setLoading(true);\n        event.stopPropagation();\n        if (autosaveTimeout.current) {\n            clearTimeout(autosaveTimeout.current);\n        }\n        autosaveTimeout.current = setTimeout(async () => {\n            console.log(activeNoteObj.id, title, content);\n            await dispatch(updateNote(activeNoteObj.id, title, content));\n            setLoading(false);\n        }, 250);\n        return;\n    }\n\n    const preventSubmit = event => {\n        event.preventDefault();\n    }\n\n    const handleNoteModal = () => {\n        dispatch(toggleNoteModal());\n    }\n\n    return (\n        <div style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\", height: \"100vh\" }}>\n            <div style={{ minHeight: \"92px\", backgroundColor: \"white\", border: \"1px solid #F2F2F2\" }}>\n                Toolbar Placeholder\n            </div>\n            <div onClick={handleNoteModal}>...</div>\n            <form onSubmit={preventSubmit} style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\", height: \"799px\", border: \"1px solid #F2F2F2\" }} onKeyUp={handleAutoSave}>\n                <input type=\"text\" style={{ height: \"8%\", border: \"none\" }} value={title} onChange={handleTitleChange} />\n                <textarea rows=\"8\" style={{ height: \"92%\", border: \"none\" }} value={content} onChange={handleContentChange} resize=\"none\"></textarea>\n            </form>\n            <div style={{ backgroundColor: \"white\", height: \"100%\" }}>\n                <span>{loading ? \"Processing and saving changes...\" : \"Note saved\"}</span>\n            </div>\n        </div>\n    );\n}\n\nTextEditor.defaultProps = {\n    activeNoteObj: {\n        title: \"\",\n        content: \"\"\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        activeNoteObj: state.entities.notes[state.session.activeNote]\n    }\n}\n\nexport default connect(mapStateToProps)(TextEditor);","import React from 'react';\nimport NoteList from './NoteList';\nimport TextEditor from './TextEditor';\n\n\nfunction Notes(props) {\n    return (\n        <section style={{display: \"flex\"}}>\n            <NoteList />\n            <TextEditor />\n        </section>\n    );\n}\nexport default Notes;","import React from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport Notebooks from './Notebooks';\nimport Notes from './Notes';\n\nfunction MainContent({ match }) {\n    return (\n        <div style={{width: \"100%\"}}>\n            <Route path={match.url + \"notes\"} component={Notes} />\n            <Route path={match.url + \"notebooks\"} component={Notebooks} />\n        </div>\n    );\n}\nexport default withRouter(MainContent);","import React from 'react';\nimport { useDispatch, connect } from 'react-redux';\nimport { addNote } from '../store/notes';\n\nconst NewNoteButton = ({ userId, selectedNotebookId }) => {\n    const dispatch = useDispatch();\n\n    const handleClick = async (event) => {\n        event.stopPropagation();\n        const res = await dispatch(addNote(userId, selectedNotebookId));\n\n        if (res.ok) {\n            return;\n        }\n    }\n\n    return (\n        <button type=\"button\" className=\"newNoteBtn\" onClick={handleClick}>New Note</button>\n    );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        userId: state.session.user_id,\n        selectedNotebookId: state.session.selectedNotebookId\n    }\n}\n\nexport default connect(mapStateToProps)(NewNoteButton);","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { logout } from '../store/session';\nimport { toggleUserModal } from '../store/ui';\nimport { withRouter } from 'react-router-dom';\n\nconst UserModal = ({ history }) => {\n    const dispatch = useDispatch();\n    const handleLogout = async (e) => {\n        e.preventDefault();\n        const res = await dispatch(logout());\n        await dispatch(toggleUserModal());\n        if (res.ok) {\n            history.replace(\"/login\")\n        }\n        return;\n    }\n\n    return (\n        <div style={{ position: \"absolute\" }}>\n            <ul>\n                <li><button onClick={handleLogout}>Logout</button></li>\n            </ul>\n        </div>\n    )\n}\n\nexport default withRouter(UserModal);","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { logout } from '../store/session';\nimport NewNoteButton from './NewNoteButton';\nimport styles from '../styles/navbar.module.css';\nimport UserModal from './UserModal';\nimport { toggleUserModal } from '../store/ui';\nimport { setSelectedNotebook } from '../store/session';\n\n\n\nfunction Navbar({ history }) {\n    const dispatch = useDispatch();\n    const notebooks = useSelector(state => state.entities.notebooks);\n    const userModal = useSelector(state => state.ui.userModal);\n    const users = useSelector(state => state.entities.users);\n\n    const handleModalClick = (e) => {\n        dispatch(toggleUserModal());\n    }\n\n    const handleSelect = (e) => {\n        e.preventDefault();\n        console.log(e.target.value)\n        dispatch(setSelectedNotebook(Number(e.target.value)))\n        history.replace('/notes');\n        return;\n    }\n\n    const getUsername = Object.values(users).map(user => {\n        return user.username;\n    })\n\n    const select_notebooks = Object.values(notebooks).map(ele => {\n        return (\n            <li key={ele.id}>\n                <button value={ele.id} onClick={handleSelect}>{ele.title}</button>\n            </li>\n        )\n    });\n\n    return (\n        <nav className={styles.sidebar_nav}>\n            <button className={styles.usernameDropDown} onClick={handleModalClick} id=\"toggleUserModal\">{getUsername} ▼</button>\n            { userModal ? <UserModal /> : <></>}\n            <NewNoteButton />\n            <ul className={styles.navlinks}>\n                <li><NavLink to=\"/notes\" activeclass=\"active\">All Notes</NavLink></li>\n                <li><NavLink to=\"/notebooks\" activeclass=\"active\">Notebooks</NavLink></li>\n                {select_notebooks}\n            </ul>\n            <ul className={styles.extra_navlinks}>\n                <li><NavLink to=\"/users\" activeclass=\"active\">Users</NavLink></li>\n                <li><NavLink to=\"/signup\" activeclass=\"active\">Sign up</NavLink></li>\n            </ul>\n        </nav>\n    );\n}\nexport default withRouter(Navbar);","import Cookie from \"js-cookie\";\n\nconst SET_TRASH = \"trash/SET_TRASH\";\nconst ADD_TO_TRASH = 'trash/ADD_TO_TRASH';\nconst EMPTY_TRASH = 'trash/EMPTY_TRASH';\nconst LOGOUT_USER = 'session/LOGOUT_USER';\n\nconst addToTrash = (noteId) => {\n    return {\n        type: ADD_TO_TRASH,\n        noteId\n    }\n}\n\nconst setTrash = (trash) => {\n    return {\n        type: SET_TRASH,\n        trash\n    }\n}\n\nconst emptyTrash = () => {\n    return {\n        type: EMPTY_TRASH\n    }\n}\n\nexport const setUserTrash = (userId) => {\n    return async dispatch => {\n        const res = await fetch(`/api/users/${userId}/trash`);\n\n        res.data = await res.json();\n        console.log(res);\n        if (res.ok) {\n            dispatch(setTrash(res.data.trash));\n        }\n\n        return res;\n    }\n}\n\nexport const trashNote = noteId => {\n    const csrfToken = Cookie.get(\"XSRF-TOKEN\");\n    return async dispatch => {\n        const res = await fetch(`/api/notes/${noteId}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFTOKEN': csrfToken\n            }\n        });\n\n        if (res.ok) {\n            dispatch(addToTrash(noteId))\n        }\n    }\n}\n\nexport const emptyUserTrash = (userId) => {\n    const csrfToken = Cookie.get(\"XSRF-TOKEN\");\n    return async dispatch => {\n        const res = await fetch(`/api/users/${userId}/trash`, {\n            method: \"DELETE\",\n            headers: {\n                \"X-CSRFTOKEN\": csrfToken\n            }\n        });\n\n        if (res.ok) {\n            dispatch(emptyTrash());\n        }\n\n        return res;\n    }\n}\n\nexport default function trashReducer(state = { trash: [] }, action) {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case SET_TRASH:\n            newState.trash = action.trash;\n            return newState;\n        case ADD_TO_TRASH:\n            newState.trash = [...newState.trash, action.noteId];\n            return newState;\n        case EMPTY_TRASH:\n            newState.trash = [];\n            return newState;\n        case LOGOUT_USER:\n            return {};\n        default:\n            return state;\n    }\n}","import React, { useEffect } from 'react';\nimport MainContent from './MainContent';\nimport Navbar from './Navbar';\nimport { connect, useDispatch } from 'react-redux';\nimport { setUserNotes } from '../store/notes';\nimport { setSelectedNotebook } from '../store/session';\nimport { setUserNotebooks } from '../store/notesbooks';\nimport { setUserTrash } from '../store/trash';\nimport { addUserNotebooks } from '../store/notesbooks';\nimport { setUserInfo } from '../store/users';\n\nfunction Home({ userId, selectedNotebookId, notes, notebooks, defaultNotebookId }) {\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const getNotes = async () => {\n            await dispatch(setUserNotes(userId));\n        }\n        const getTrash = async () => {\n            await dispatch(setUserTrash(userId));\n        }\n        getNotes();\n        getTrash();\n\n        const getNotebooks = async () => {\n            await dispatch(setUserNotebooks(userId));\n        }\n        getNotebooks();\n        dispatch(setSelectedNotebook(selectedNotebookId || 1));\n\n        const getUserInfo = async () => {\n            await dispatch(setUserInfo(userId));\n        }\n        getUserInfo();\n        \n        dispatch(setSelectedNotebook(selectedNotebookId || defaultNotebookId));\n    }, [dispatch, userId, selectedNotebookId]);\n\n    return (\n        <>\n            <div style={{ display: \"flex\", height: \"100vh\" }}>\n                <Navbar />\n                <MainContent />\n            </div>\n        </>\n    );\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        userId: state.session.user_id,\n        selectedNotebookId: state.session.selectedNotebookId,\n        notebooks: state.entities.notebooks,\n        defaultNotebookId: state.session.defaultNotebookId\n    }\n};\n\nexport default connect(mapStateToProps)(Home);","import React, { useEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport UserList from './components/UsersList';\nimport SignUpPage from './components/SignUp'\nimport LoginForm from './components/LoginForm';\nimport AuthRoute from './components/AuthRoute';\nimport Home from './components/Home';\n\n\nfunction App() {\n    useEffect(() => {\n        const getCSRF = async () => {\n            const res = await fetch('/api/session/csrf');\n\n            if (res.ok) {\n                return;\n            }\n        }\n\n        getCSRF();\n    }, []);\n\n\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route exact path=\"/users\">\n                    <UserList />\n                </Route>\n                <Route exact path=\"/login\">\n                    <LoginForm />\n                </Route>\n                <Route exact path=\"/signup\">\n                    <SignUpPage />\n                </Route>\n                <AuthRoute path=\"/\" component={Home} />\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","import { createStore, compose, combineReducers, applyMiddleware } from 'redux';\n// import thunk from './middleware/thunk';\nimport thunk from 'redux-thunk'\nimport session from './session';\nimport users from './users';\nimport notes from './notes';\nimport notebooks from './notesbooks';\nimport trash from './trash';\nimport ui from './ui';\n\nlet storeEnhancer;\n\nconst entities = combineReducers({\n    users,\n    notes,\n    notebooks,\n    trash\n});\n\nconst rootReducer = combineReducers({\n    session,\n    entities,\n    ui\n});\n\nif (process.env.NODE_ENV !== 'production') {\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    storeEnhancer = composeEnhancers(applyMiddleware(thunk));\n} else {\n    storeEnhancer = applyMiddleware(thunk);\n}\n\n\nexport default function configureStore(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        storeEnhancer\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/configureStore';\n\nexport const store = configureStore();\n\nif (process.env.NODE_ENV !== 'production') {\n  window.store = store;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}