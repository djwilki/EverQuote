(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){e.exports={notebooks_container:"notebook_notebooks_container__3XDiR",notebooks_title_bar:"notebook_notebooks_title_bar__2g6Z6",newNotebook:"notebook_newNotebook__1UUKA",sortOptions:"notebook_sortOptions__7Da-b"}},19:function(e,t,n){e.exports={sidebar_nav:"navbar_sidebar_nav__3crPa",usernameDropDown:"navbar_usernameDropDown__bWK-n",newNoteBtn:"navbar_newNoteBtn__3Xzkx",extra_navlinks:"navbar_extra_navlinks__Z2FyT"}},29:function(e,t,n){},31:function(e,t,n){},35:function(e,t,n){e.exports=n(47)},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return ae}));var a=n(0),r=n.n(a),o=n(20),c=n.n(o),s=(n(29),n(1)),u=n.n(s),l=n(2),i=n(7),m=n(5),p=n(6);var d=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var f=function(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=o.map((function(e){return r.a.createElement(d,{key:e.id,user:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),s)},v=n(3),h=n(9),E=n.n(h),b=function(e,t,n){var a=E.a.get("XSRF-TOKEN");return function(){var r=Object(l.a)(u.a.mark((function r(o){var c,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/users/",{method:"post",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({username:e,password:n,email:t,csrf_token:a})});case 2:return c=r.sent,r.next=5,c.json();case 5:if(s=r.sent,c.data=s,!c.ok){r.next=12;break}return o({type:"signup/CREATE_USER",user:s}),r.abrupt("return",c);case 12:return console.error("Bad response"),r.abrupt("return",c);case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};var O="session/SET_USER",g=function(e){return{type:"session/SET_ACTIVE_NOTE",noteId:e}},_=function(e,t){var n=E.a.get("XSRF-TOKEN");return function(){var a=Object(l.a)(u.a.mark((function a(r){var o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({email_or_username:e,password:t,csrf_token:n})});case 2:return o=a.sent,a.next=5,o.json();case 5:return o.data=a.sent,o.ok&&r((c=o.data.user,{type:O,user:c})),a.abrupt("return",o);case 8:case"end":return a.stop()}var c}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(){var e=E.a.get("XSRF-TOKEN");return function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"DELETE",headers:{"X-CSRFTOKEN":e}});case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"session/LOGOUT_USER"}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N={user_id:null,selectedNotebookId:null,defaultNotebookId:null,noteList:null,activeNote:null};n(31),n(45);var w=Object(m.g)((function(e){var t=e.history,n=Object(a.useState)(""),o=Object(p.a)(n,2),c=o[0],s=o[1],m=Object(a.useState)(""),d=Object(p.a)(m,2),f=d[0],h=d[1],E=Object(a.useState)(""),O=Object(p.a)(E,2),g=O[0],k=O[1],N=Object(a.useState)([]),w=Object(p.a)(N,2),j=w[0],x=w[1],y=Object(v.c)();Object(a.useEffect)((function(){x([])}),[c,f,g]);var T=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,y(b(f,c,g));case 3:if(a=e.sent,console.log("signup res",a),!a.ok){e.next=10;break}return e.next=8,y(_(f,g));case 8:return t.replace("/"),e.abrupt("return");case 10:x(a.data.errors);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,y(_("demo@demo.com","password"));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:x(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-wrapper centered"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{alt:"logo",src:"https://i.imgur.com/GOpcw1D.png",style:{width:"30%"}}),r.a.createElement("h1",{className:"header-title"},"EverQuote"),r.a.createElement("div",{className:"header-tagline"},"Remember everything important.")),r.a.createElement("button",{onClick:S,className:"demo_button"},"Continue as Demo User"),r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider-text"},"or"),r.a.createElement("div",{className:"divider-line"})),r.a.createElement("div",{className:"login_form_container"},r.a.createElement("form",{onSubmit:T},r.a.createElement("input",{name:"username",type:"text",value:f,onChange:function(e){return h(e.target.value)},className:"auth_input",placeholder:"Username"}),r.a.createElement("input",{name:"email",type:"email",value:c,onChange:function(e){return s(e.target.value)},className:"auth_input",placeholder:"Email"}),r.a.createElement("input",{name:"password",type:"password",value:g,onChange:function(e){return k(e.target.value)},className:"auth_input",placeholder:"Password"}),r.a.createElement("div",{className:"login_form_error_container"},j.length?r.a.createElement("ul",{className:"auth_error_list"},j.map((function(e,t){return r.a.createElement("li",{className:"error_message",key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{type:"submit",className:"auth_button"},"Continue"))),r.a.createElement("div",{className:"form-footer"},r.a.createElement("div",{className:"footer-tagline"},"Already have an account?"),r.a.createElement("div",{className:"footer-cta-wrapper"},r.a.createElement(i.b,{className:"footer-cta",to:"/login"},"Sign in")))))})),j=Object(m.g)((function(e){var t=e.history,n=Object(a.useState)(""),o=Object(p.a)(n,2),c=o[0],s=o[1],m=Object(a.useState)(""),d=Object(p.a)(m,2),f=d[0],h=d[1],E=Object(a.useState)([]),b=Object(p.a)(E,2),O=b[0],g=b[1],k=Object(v.c)();Object(a.useEffect)((function(){g([])}),[c,f]);var N=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,k(_(c,f));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:g(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,k(_("demo","password"));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:g(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-wrapper centered"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{alt:"logo",src:"https://i.imgur.com/GOpcw1D.png",style:{width:"30%"}}),r.a.createElement("h1",{className:"header-title"},"EverQuote"),r.a.createElement("div",{className:"header-tagline"},"Remember everything important.")),r.a.createElement("button",{onClick:w,className:"demo_button"},"Continue as Demo User"),r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider-text"},"or"),r.a.createElement("div",{className:"divider-line"})),r.a.createElement("div",{className:"login_form_container"},r.a.createElement("form",{method:"",action:"",onSubmit:N},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Email or Username",type:"text",name:"email_or_username",value:c,className:"auth_input",onChange:function(e){s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Password",type:"password",name:"password",value:f,className:"auth_input",onChange:function(e){h(e.target.value)}})),r.a.createElement("div",{className:"login_form_error_container"},O.length?r.a.createElement("ul",{className:"auth_error_list"},O.map((function(e,t){return r.a.createElement("li",{className:"error_message",key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{type:"submit",className:"auth_button"},"Continue"))),r.a.createElement("div",{className:"form-footer"},r.a.createElement("div",{className:"footer-tagline"},"Don't have an account?"),r.a.createElement("div",{className:"footer-cta-wrapper"},r.a.createElement(i.b,{className:"footer-cta",to:"/signup"},"Create account")))))})),x=n(16),y=Object(v.b)((function(e,t){var n=e.session.user_id;return Object(x.a)({user_id:n},t)}))((function(e){var t=e.user_id,n=e.path,a=e.component;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{path:n,component:a}),"/"===n?r.a.createElement(m.a,{to:"/notes"}):r.a.createElement(r.a.Fragment,null)):r.a.createElement(m.a,{to:"/login"})})),T=n(13),S=n.n(T),C=function(e){var t="/api/users/".concat(e,"/notebooks");return function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return a.data=e.sent,console.log("reducer",a),a.ok&&(n({type:"notebooks/SET_NOTEBOOKS",notebooks:a.data}),Object.values(a.data).forEach((function(e){e.isDefault&&n({type:"notebooks/SET_DEFAULT_NOTEBOOK",defaultNotebookId:e.id})}))),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(e,t,n){var a=E.a.get("XSRF-TOKEN"),r="api/users/".concat(n,"/notebooks");return function(){var o=Object(l.a)(u.a.mark((function o(c){var s,l;return u.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fetch(r,{method:"post",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({title:e,isDefault:t,userId:n,csrf_token:a})});case 2:return s=o.sent,o.next=5,s.json();case 5:return l=o.sent,s.data=l,s.ok&&c({type:"notebooks/ADD_NOTEBOOK",notebook:s.data}),o.abrupt("return",s);case 9:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()};var I=function(e){var t=Object(v.c)(),n=Object(v.d)((function(e){return e.session.user_id})),o=Object(v.d)((function(e){return e.entities.notebooks})),c=Object(v.d)((function(e){return e.entities.notes}));console.log(o);var s=Object(a.useState)(""),i=Object(p.a)(s,2),m=i[0],d=(i[1],Object(a.useState)([])),f=Object(p.a)(d,2),h=(f[0],f[1]),E=Object.values(o).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",null,r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 7l6 5-6 5V7z",fill:"currentColor"}))),r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.035 4.5H5.958v15h2.077v-15z",fill:"currentColor"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.285 4.5v15h7.09c.92 0 1.667-.746 1.667-1.667V6.167c0-.92-.747-1.667-1.667-1.667h-7.09zm6.63 5.083a.75.75 0 01-.75.75h-3a.75.75 0 110-1.5h3a.75.75 0 01.75.75z",fill:"currentColor"})),e.title),r.a.createElement("td",null,"You"),r.a.createElement("td",null,e.updated_at),r.a.createElement("td",null,"...")),(t=e.id,Object.values(c).map((function(e){if(t===e.notebookId)return r.a.createElement("tr",null,r.a.createElement("td",{style:{padding:"0px 0px 0px 64px"}},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.665 4.5h8.75c.92 0 1.667.746 1.667 1.667v8.748h-3.334a.625.625 0 00-.625.624v3.958H7.665c-.92 0-1.667-.747-1.667-1.667V6.167c0-.92.747-1.667 1.667-1.667zm7.037 4.584a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h5.404zm.625 2.918c0 .345-.28.625-.625.625H9.298a.625.625 0 010-1.25h5.404c.345 0 .625.28.625.625zm-4.363 4.158a.625.625 0 100-1.25H9.298a.625.625 0 100 1.25h1.666z",fill:"currentColor"}),r.a.createElement("path",{d:"M15.373 16.164h2.157l-2.107 2.693-.05.06v-2.753z",fill:"currentColor"})),"                            ",e.title),r.a.createElement("td",null,"You"),r.a.createElement("td",null,e.updated_at),r.a.createElement("td",null,"..."))}))));var t}));Object(a.useEffect)((function(){h([])}),[m]);var b=function(){var e=Object(l.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(D(m,!1,n));case 3:if(!(r=e.sent).ok){e.next=6;break}return e.abrupt("return");case 6:h(r.data.errors);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:S.a.notebooks_container},r.a.createElement("h1",null,"Notebooks"),r.a.createElement("div",{className:S.a.notebooks_title_bar},r.a.createElement("div",{className:S.a.notebooks_title},r.a.createElement("h2",null,"My notebook list")),r.a.createElement("div",{className:S.a.buttons},r.a.createElement("button",{className:S.a.newNotebook,onClick:b},r.a.createElement("svg",{style:{width:"24px",height:"24px"},fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"_3rHKgsdA1qX-_9ks50GGiT"},r.a.createElement("path",{d:"M5.955 4.5H8.03v15H5.955v-15z",fill:"currentColor"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.281 19.5v-15h7.09c.921 0 1.667.746 1.667 1.666v7.294h-.025a4.583 4.583 0 00-4.346 6.04H9.28zm5.88-9.167a.75.75 0 000-1.5h-3a.75.75 0 000 1.5h3z",fill:"currentColor"}),r.a.createElement("path",{d:"M18.638 15.549a.625.625 0 10-1.25 0v1.904h-1.846a.625.625 0 100 1.25h1.846v1.846a.625.625 0 001.25 0v-1.846h1.904a.625.625 0 100-1.25h-1.904v-1.904z",fill:"currentColor"})),"New Notebook"),r.a.createElement("button",{className:S.a.sortOptions},r.a.createElement("svg",{style:{width:"24px",height:"24px"},xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.183 4.625a.625.625 0 00-1.25 0V17.87L5.067 16a.625.625 0 00-.884 0 .62.62 0 000 .88l2.933 2.94c.244.244.64.244.884 0l2.933-2.94a.62.62 0 000-.88.625.625 0 00-.884 0l-1.866 1.87V4.625zM11.625 5a.625.625 0 100 1.25h8.75a.625.625 0 100-1.25h-8.75zM11 9.375c0-.345.28-.625.625-.625h6.25a.625.625 0 110 1.25h-6.25A.625.625 0 0111 9.375zM11.625 12.5a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75z",fill:"currentColor"}))))),r.a.createElement("table",{className:S.a.notebooks_table},r.a.createElement("tbody",null,r.a.createElement("tr",{className:S.a.notebooks_table_headers},r.a.createElement("th",null,"TITLE"),r.a.createElement("th",null,"CREATED BY"),r.a.createElement("th",null,"UPDATED"),r.a.createElement("th",null,"ACTIONS")),E)))},F=function(e){var t=e.note,n=Object(v.c)();return r.a.createElement("div",{onClick:function(e){n(g(t.id))}},r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t.title),r.a.createElement("span",null,t.content.length>60?t.content.slice(0,60)+"...":t.content?t.content:"")))},R=Object(v.b)((function(e,t){var n;return(n=e.session.noteList?Object.values(e.entities.notes).filter((function(t){return t.notebookId===e.session.noteList})):Object.values(e.entities.notes).filter((function(e){return!e.isTrash}))).sort((function(e,t){var n=new Date(e.updated_at);return new Date(t.updated_at).getTime()-n.getTime()})),{noteList:e.session.noteList,notes:n}}))((function(e){var t=e.noteList,n=e.notes;return r.a.createElement("div",{style:{width:"380px",height:"100vh",backgroundColor:"#F8F8F8"}},r.a.createElement("div",null,t?r.a.createElement("h1",null,t):r.a.createElement("h1",{style:{color:"black"}},"All Notes"),r.a.createElement("h3",null,n.length," Notes")),n.map((function(e,t){return r.a.createElement(F,{key:"note-".concat(t+1),note:e})})))})),U=n(23),A=function(e){var t="/api/users/".concat(e,"/notes");return function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return a.data=e.sent,console.log(a),a.ok&&Object.keys(a.data).length&&(n({type:"/notes/SET_NOTES",notes:a.data}),n(g(Object.values(a.data)[0].id))),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};window.setUserNotes=A;var K=function(e,t){var n=E.a.get("XSRF-TOKEN");return function(){var a=Object(l.a)(u.a.mark((function a(r){var o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({userId:e,notebookId:t})});case 2:return o=a.sent,a.next=5,o.json();case 5:return o.data=a.sent,o.ok&&(r({type:"/notes/ADD_NOTE",note:o.data}),r(g(o.data.id))),a.abrupt("return",o);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},L=function(e,t,n){var a=E.a.get("XSRF-TOKEN");return function(){var r=Object(l.a)(u.a.mark((function r(o){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/notes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({noteId:e,title:t,content:n})});case 2:return c=r.sent,r.next=5,c.json();case 5:return c.data=r.sent,c.ok&&o({type:"/notes/UPDATE_NOTE",note:c.data}),r.abrupt("return",c);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};var z=function(e){var t=e.activeNoteObj,n=Object(v.c)(),o=Object(a.useState)(""),c=Object(p.a)(o,2),s=c[0],i=c[1],m=Object(a.useState)(""),d=Object(p.a)(m,2),f=d[0],h=d[1],E=Object(a.useState)(!1),b=Object(p.a)(E,2),O=b[0],g=b[1],_=Object(a.useRef)(null);Object(a.useEffect)((function(){i(t.title),h(t.content)}),[t]);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}},r.a.createElement("div",{style:{minHeight:"92px",backgroundColor:"white",border:"1px solid #F2F2F2"}},"Toolbar Placeholder"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{display:"flex",flexDirection:"column",width:"100%",height:"799px",border:"1px solid #F2F2F2"},onKeyUp:function(e){g(!0),e.stopPropagation(),_.current&&clearTimeout(_.current),_.current=setTimeout(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.id,s,f),e.next=3,n(L(t.id,s,f));case 3:g(!1);case 4:case"end":return e.stop()}}),e)}))),250)}},r.a.createElement("input",{type:"text",style:{height:"8%",border:"none"},value:s,onChange:function(e){i(e.target.value)}}),r.a.createElement("textarea",{rows:"8",style:{height:"92%",border:"none"},value:f,onChange:function(e){h(e.target.value)},resize:"none"})),r.a.createElement("div",{style:{backgroundColor:"white",height:"100%"}},r.a.createElement("span",null,O?"Processing and saving changes...":"Note saved")))};z.defaultProps={activeNoteObj:{title:"",content:""}};var B=Object(v.b)((function(e,t){return{activeNoteObj:e.entities.notes[e.session.activeNote]}}))(z);var M=function(e){return r.a.createElement("section",{style:{display:"flex"}},r.a.createElement(R,null),r.a.createElement(B,null))};var P=Object(m.g)((function(e){var t=e.match;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(m.b,{path:t.url+"notes",component:M}),r.a.createElement(m.b,{path:t.url+"notebooks",component:I}))})),X=Object(v.b)((function(e,t){return{userId:e.session.user_id,selectedNotebookId:e.session.selectedNotebookId}}))((function(e){var t=e.userId,n=e.selectedNotebookId,a=Object(v.c)(),o=function(){var e=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),e.next=3,a(K(t,n));case 3:if(!e.sent.ok){e.next=6;break}return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("button",{type:"button",className:"newNoteBtn",onClick:o},"New Note")})),H=n(19),G=n.n(H);var J=Object(m.g)((function(e){var t=e.history,n=Object(v.c)(),a=function(){var e=Object(l.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(k());case 3:return e.sent.ok&&t.replace("/login"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:G.a.sidebar_nav},r.a.createElement("button",{className:G.a.usernameDropDown,onClick:a},"demo \u25bc"),r.a.createElement(X,null),r.a.createElement("ul",{className:G.a.navlinks},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/notes",activeclass:"active"},"All Notes")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/notebooks",activeclass:"active"},"Notebooks"))),r.a.createElement("ul",{className:G.a.extra_navlinks},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/users",activeclass:"active"},"Users")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup",activeclass:"active"},"Sign up"))))})),V=n(34),Y=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e,"/trash"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,console.log(a),a.ok&&n({type:"trash/SET_TRASH",trash:a.data.trash}),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var Q=Object(v.b)((function(e,t){return{userId:e.session.user_id,selectedNotebookId:e.session.selectedNotebookId}}))((function(e){var t=e.userId,n=e.selectedNotebookId,o=(e.notes,Object(v.c)());return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(A(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(Y(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),a(),function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(C(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),o({type:"session/SET_SELECTED_NOTEBOOK",notebookId:n||1})}),[o,t,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",height:"100vh"}},r.a.createElement(J,null),r.a.createElement(P,null)))}));var Z,q=function(){return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(i.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/users"},r.a.createElement(f,null)),r.a.createElement(m.b,{exact:!0,path:"/login"},r.a.createElement(j,null)),r.a.createElement(m.b,{exact:!0,path:"/signup"},r.a.createElement(w,null)),r.a.createElement(y,{path:"/",component:Q})))},W=n(14),$=n(33),ee=Object(W.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signup/CREATE_USER":return t.user;case"session/LOGOUT_USER":return{};default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"/notes/ADD_NOTE":var a=t.note.id;return Object(x.a)(Object(U.a)({},a,t.note),e);case"/notes/SET_NOTES":return Object(x.a)(Object(x.a)({},t.notes),e);case"/notes/UPDATE_NOTE":return n[t.note.id]=t.note,n;case"session/LOGOUT_USER":return{};default:return e}},notebooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"notebooks/SET_NOTEBOOKS":return t.notebooks;case"notebooks/ADD_NOTEBOOK":case"notebooks/EDIT_NOTEBOOK":return t.notebook;case"session/LOGOUT_USER":return{};default:return e}},trash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{trash:[]},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"trash/SET_TRASH":return n.trash=t.trash,n;case"trash/ADD_TO_TRASH":return n.trash=[].concat(Object(V.a)(n.trash),[t.noteId]),n;case"trash/EMPTY_TRASH":return n.trash=[],n;case"session/LOGOUT_USER":return{};default:return e}}}),te=Object(W.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case O:return n.user_id=t.user.user_id,n;case"session/LOGOUT_USER":return{};case"session/SET_SELECTED_NOTEBOOK":return n.selectedNotebookId=t.notebookId,n;case"notebooks/SET_DEFAULT_NOTEBOOK":return n.defaultNotebookId=t.defaultNotebookId,n;case"session/SET_NOTE_LIST":return n.noteList=t.noteList,n;case"session/SET_ACTIVE_NOTE":return n.activeNote=t.noteId,n;default:return e}},entities:ee});Z=Object(W.a)($.a);var ne,ae=Object(W.d)(te,ne,Z);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:ae},r.a.createElement(q,null))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a2c6f24c.chunk.js.map