(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){},28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return A}));var n=a(0),r=a.n(n),c=a(16),s=a.n(c),u=(a(33),a(2)),l=a.n(u),o=a(4),i=a(5),m=a(3),p=a(10);var f=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var E=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=c.map((function(e){return r.a.createElement(f,{key:e.id,user:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),u)},v=a(11),d=a(15),h=a.n(d),b=function(e,t,a){var n=h.a.get("XSRF-TOKEN");return function(){var r=Object(o.a)(l.a.mark((function r(c){var s,u;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/users/",{method:"post",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({username:e,password:a,email:t,csrf_token:n})});case 2:return s=r.sent,r.next=5,s.json();case 5:if(u=r.sent,s.data=u,!s.ok){r.next=12;break}return c({type:"signup/CREATE_USER",user:u}),r.abrupt("return",s);case 12:return console.error("Bad response"),r.abrupt("return",s);case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};var g=function(e,t){var a=h.a.get("XSRF-TOKEN");return function(){var n=Object(o.a)(l.a.mark((function n(r){var c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/session/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({email_or_username:e,password:t,csrf_token:a})});case 2:return c=n.sent,console.log(c),n.next=6,c.json();case 6:return c.data=n.sent,c.ok&&r({type:"auth/SET_USER",user:c.data.user}),n.abrupt("return",c);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(){var e=h.a.get("XSRF-TOKEN");return function(){var t=Object(o.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"DELETE",headers:{"X-CSRFTOKEN":e}});case 2:return n=t.sent,t.next=5,n.json();case 5:return n.data=t.sent,n.ok&&a({type:"/auth/LOGOUT_USER"}),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};a(24);var O=Object(m.g)((function(e){var t=e.history,a=Object(n.useState)(""),c=Object(p.a)(a,2),s=c[0],u=c[1],m=Object(n.useState)(""),f=Object(p.a)(m,2),E=f[0],d=f[1],h=Object(n.useState)(""),N=Object(p.a)(h,2),O=N[0],j=N[1],w=Object(n.useState)([]),_=Object(p.a)(w,2),k=_[0],y=_[1],x=Object(v.c)();Object(n.useEffect)((function(){y([])}),[s,E,O]);var S=function(){var e=Object(o.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,x(b(E,s,O));case 3:if(n=e.sent,console.log("signup res",n),!n.ok){e.next=10;break}return e.next=8,x(g(E,O));case 8:return t.replace("/"),e.abrupt("return");case 10:y(n.data.errors);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,x(g("demo@demo.com","password"));case 3:if(!(n=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:y(n.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-wrapper centered"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{alt:"logo",src:"https://i.imgur.com/GOpcw1D.png",style:{width:"30%"}}),r.a.createElement("h1",{className:"header-title"},"EverQuote"),r.a.createElement("div",{className:"header-tagline"},"Remember everything important.")),r.a.createElement("button",{onClick:C,className:"demo_button"},"Continue as Demo User"),r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider-text"},"or"),r.a.createElement("div",{className:"divider-line"})),r.a.createElement("div",{className:"login_form_container"},r.a.createElement("form",{onSubmit:S},r.a.createElement("input",{name:"username",type:"text",value:E,onChange:function(e){return d(e.target.value)},className:"auth_input",placeholder:"Username"}),r.a.createElement("input",{name:"email",type:"email",value:s,onChange:function(e){return u(e.target.value)},className:"auth_input",placeholder:"Email"}),r.a.createElement("input",{name:"password",type:"password",value:O,onChange:function(e){return j(e.target.value)},className:"auth_input",placeholder:"Password"}),r.a.createElement("div",{className:"login_form_error_container"},k.length?r.a.createElement("ul",{className:"auth_error_list"},k.map((function(e,t){return r.a.createElement("li",{className:"error_message",key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{type:"submit",className:"auth_button"},"Continue"))),r.a.createElement("div",{className:"form-footer"},r.a.createElement("div",{className:"footer-tagline"},"Already have an account?"),r.a.createElement("div",{className:"footer-cta-wrapper"},r.a.createElement(i.b,{className:"footer-cta",to:"/login"},"Sign in")))))})),j=Object(m.g)((function(e){var t=e.history,a=Object(n.useState)(""),c=Object(p.a)(a,2),s=c[0],u=c[1],m=Object(n.useState)(""),f=Object(p.a)(m,2),E=f[0],d=f[1],h=Object(n.useState)([]),b=Object(p.a)(h,2),N=b[0],O=b[1],j=Object(v.c)();Object(n.useEffect)((function(){O([])}),[s,E]);var w=function(){var e=Object(o.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,j(g(s,E));case 3:if(!(n=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:O(n.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,j(g("demo","password"));case 3:if(!(n=e.sent).ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:O(n.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form-wrapper centered"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-header"},r.a.createElement("img",{alt:"logo",src:"https://i.imgur.com/GOpcw1D.png",style:{width:"30%"}}),r.a.createElement("h1",{className:"header-title"},"EverQuote"),r.a.createElement("div",{className:"header-tagline"},"Remember everything important.")),r.a.createElement("button",{onClick:_,className:"demo_button"},"Continue as Demo User"),r.a.createElement("div",{className:"divider-container"},r.a.createElement("div",{className:"divider-text"},"or"),r.a.createElement("div",{className:"divider-line"})),r.a.createElement("div",{className:"login_form_container"},r.a.createElement("form",{method:"",action:"",onSubmit:w},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Email or Username",type:"text",name:"email_or_username",value:s,className:"auth_input",onChange:function(e){u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Password",type:"password",name:"password",value:E,className:"auth_input",onChange:function(e){d(e.target.value)}})),r.a.createElement("div",{className:"login_form_error_container"},N.length?r.a.createElement("ul",{className:"auth_error_list"},N.map((function(e,t){return r.a.createElement("li",{className:"error_message",key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{type:"submit",className:"auth_button"},"Continue"))),r.a.createElement("div",{className:"form-footer"},r.a.createElement("div",{className:"footer-tagline"},"Don't have an account?"),r.a.createElement("div",{className:"footer-cta-wrapper"},r.a.createElement(i.b,{className:"footer-cta",to:"/signup"},"Create account")))))})),w=a(27),_=Object(v.b)((function(e,t){var a=e.auth.user_id;return Object(w.a)({user_id:a},t)}))((function(e){var t=e.user_id,a=e.path,n=e.component;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{path:a,component:n}),"/"===a?r.a.createElement(m.a,{to:"/notes"}):r.a.createElement(r.a.Fragment,null)):r.a.createElement(m.a,{to:"/login"})}));var k=function(e){return r.a.createElement("main",null,r.a.createElement("h1",null,"Notebooks"))};var y=function(e){return r.a.createElement("main",null,r.a.createElement("h1",null,"Notes"))};var x=Object(m.g)((function(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement(m.b,{path:t.url+"notes",component:y}),r.a.createElement(m.b,{path:t.url+"notebooks",component:k}))}));a(40);var S=Object(m.g)((function(e){var t=e.history,a=Object(v.c)(),n=function(){var e=Object(o.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(N());case 3:return e.sent.ok&&t.replace("/login"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"sidebar-nav"},r.a.createElement("button",{className:"usernameDropDown",onClick:n},"demo \u25bc"),r.a.createElement("button",{className:"newNoteBtn"},"New Note"),r.a.createElement("ul",{className:"navlinks"},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/notes",activeclass:"active"},"All Notes")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/notebooks",activeclass:"active"},"Notebooks"))),r.a.createElement("ul",{className:"extra-navlinks"},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/users",activeclass:"active"},"Users")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup",activeclass:"active"},"Sign up"))))}));var C=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(x,null))};var R,T=function(){return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(i.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/users"},r.a.createElement(E,null)),r.a.createElement(m.b,{exact:!0,path:"/login"},r.a.createElement(j,null)),r.a.createElement(m.b,{exact:!0,path:"/signup"},r.a.createElement(O,null)),r.a.createElement(_,{path:"/",component:C})))},U=a(12),D=a(26),F=Object(U.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"signup/CREATE_USER":return t.user;default:return e}}}),K=Object(U.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user_id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER":return t.user;case"/auth/LOGOUT_USER":return{user_id:null};default:return e}},entities:F});R=Object(U.a)(D.a);var X,A=Object(U.d)(K,X,R);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:A},r.a.createElement(T,null))),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.ed4dc509.chunk.js.map